var Ff=Object.defineProperty;var zf=(t,e,r)=>e in t?Ff(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ne=(t,e,r)=>zf(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Qu={exports:{}},ai={},Gu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=Symbol.for("react.element"),Vf=Symbol.for("react.portal"),Wf=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Qf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),Xf=Symbol.for("react.memo"),Zf=Symbol.for("react.lazy"),ya=Symbol.iterator;function eh(t){return t===null||typeof t!="object"?null:(t=ya&&t[ya]||t["@@iterator"],typeof t=="function"?t:null)}var Ju={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Xu={};function qr(t,e,r){this.props=t,this.context=e,this.refs=Xu,this.updater=r||Ju}qr.prototype.isReactComponent={};qr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zu(){}Zu.prototype=qr.prototype;function ml(t,e,r){this.props=t,this.context=e,this.refs=Xu,this.updater=r||Ju}var yl=ml.prototype=new Zu;yl.constructor=ml;Yu(yl,qr.prototype);yl.isPureReactComponent=!0;var va=Array.isArray,ec=Object.prototype.hasOwnProperty,vl={current:null},tc={key:!0,ref:!0,__self:!0,__source:!0};function rc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ec.call(e,n)&&!tc.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Kn,type:t,key:i,ref:o,props:s,_owner:vl.current}}function th(t,e){return{$$typeof:Kn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kn}function rh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var wa=/\/+/g;function $i(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rh(""+t.key):e.toString(36)}function ks(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kn:case Vf:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+$i(o,0):n,va(s)?(r="",t!=null&&(r=t.replace(wa,"$&/")+"/"),ks(s,e,r,"",function(u){return u})):s!=null&&(wl(s)&&(s=th(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",va(t))for(var l=0;l<t.length;l++){i=t[l];var a=n+$i(i,l);o+=ks(i,e,r,a,s)}else if(a=eh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=n+$i(i,l++),o+=ks(i,e,r,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ts(t,e,r){if(t==null)return t;var n=[],s=0;return ks(t,n,"","",function(i){return e.call(r,i,s++)}),n}function nh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var we={current:null},Es={transition:null},sh={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Es,ReactCurrentOwner:vl};function nc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ts,forEach:function(t,e,r){ts(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ts(t,function(){e++}),e},toArray:function(t){return ts(t,function(e){return e})||[]},only:function(t){if(!wl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=qr;U.Fragment=Wf;U.Profiler=Kf;U.PureComponent=ml;U.StrictMode=qf;U.Suspense=Yf;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sh;U.act=nc;U.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Yu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ec.call(e,a)&&!tc.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Kn,type:t.type,key:s,ref:i,props:n,_owner:o}};U.createContext=function(t){return t={$$typeof:Gf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qf,_context:t},t.Consumer=t};U.createElement=rc;U.createFactory=function(t){var e=rc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Jf,render:t}};U.isValidElement=wl;U.lazy=function(t){return{$$typeof:Zf,_payload:{_status:-1,_result:t},_init:nh}};U.memo=function(t,e){return{$$typeof:Xf,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Es.transition;Es.transition={};try{t()}finally{Es.transition=e}};U.unstable_act=nc;U.useCallback=function(t,e){return we.current.useCallback(t,e)};U.useContext=function(t){return we.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return we.current.useDeferredValue(t)};U.useEffect=function(t,e){return we.current.useEffect(t,e)};U.useId=function(){return we.current.useId()};U.useImperativeHandle=function(t,e,r){return we.current.useImperativeHandle(t,e,r)};U.useInsertionEffect=function(t,e){return we.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return we.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return we.current.useMemo(t,e)};U.useReducer=function(t,e,r){return we.current.useReducer(t,e,r)};U.useRef=function(t){return we.current.useRef(t)};U.useState=function(t){return we.current.useState(t)};U.useSyncExternalStore=function(t,e,r){return we.current.useSyncExternalStore(t,e,r)};U.useTransition=function(){return we.current.useTransition()};U.version="18.3.1";Gu.exports=U;var M=Gu.exports;const ih=Bf(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=M,lh=Symbol.for("react.element"),ah=Symbol.for("react.fragment"),uh=Object.prototype.hasOwnProperty,ch=oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dh={key:!0,ref:!0,__self:!0,__source:!0};function sc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)uh.call(e,n)&&!dh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:lh,type:t,key:i,ref:o,props:s,_owner:ch.current}}ai.Fragment=ah;ai.jsx=sc;ai.jsxs=sc;Qu.exports=ai;var h=Qu.exports,po={},ic={exports:{}},Ae={},oc={exports:{}},lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,O){var A=j.length;j.push(O);e:for(;0<A;){var K=A-1>>>1,Z=j[K];if(0<s(Z,O))j[K]=O,j[A]=Z,A=K;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var O=j[0],A=j.pop();if(A!==O){j[0]=A;e:for(var K=0,Z=j.length,fr=Z>>>1;K<fr;){var S=2*(K+1)-1,N=j[S],R=S+1,te=j[R];if(0>s(N,A))R<Z&&0>s(te,N)?(j[K]=te,j[R]=A,K=R):(j[K]=N,j[S]=A,K=S);else if(R<Z&&0>s(te,A))j[K]=te,j[R]=A,K=R;else break e}}return O}function s(j,O){var A=j.sortIndex-O.sortIndex;return A!==0?A:j.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,y=!1,_=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=j)n(u),O.sortIndex=O.expirationTime,e(a,O);else break;O=r(u)}}function w(j){if(v=!1,g(j),!_)if(r(a)!==null)_=!0,Xr(k);else{var O=r(u);O!==null&&Zr(w,O.startTime-j)}}function k(j,O){_=!1,v&&(v=!1,m(P),P=-1),y=!0;var A=f;try{for(g(O),d=r(a);d!==null&&(!(d.expirationTime>O)||j&&!de());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var Z=K(d.expirationTime<=O);O=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===r(a)&&n(a),g(O)}else n(a);d=r(a)}if(d!==null)var fr=!0;else{var S=r(u);S!==null&&Zr(w,S.startTime-O),fr=!1}return fr}finally{d=null,f=A,y=!1}}var E=!1,C=null,P=-1,z=5,$=-1;function de(){return!(t.unstable_now()-$<z)}function wt(){if(C!==null){var j=t.unstable_now();$=j;var O=!0;try{O=C(!0,j)}finally{O?tt():(E=!1,C=null)}}else E=!1}var tt;if(typeof p=="function")tt=function(){p(wt)};else if(typeof MessageChannel<"u"){var es=new MessageChannel,Ri=es.port2;es.port1.onmessage=wt,tt=function(){Ri.postMessage(null)}}else tt=function(){b(wt,0)};function Xr(j){C=j,E||(E=!0,tt())}function Zr(j,O){P=b(function(){j(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,Xr(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var A=f;f=O;try{return j()}finally{f=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,O){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var A=f;f=j;try{return O()}finally{f=A}},t.unstable_scheduleCallback=function(j,O,A){var K=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?K+A:K):A=K,j){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=A+Z,j={id:c++,callback:O,priorityLevel:j,startTime:A,expirationTime:Z,sortIndex:-1},A>K?(j.sortIndex=A,e(u,j),r(a)===null&&j===r(u)&&(v?(m(P),P=-1):v=!0,Zr(w,A-K))):(j.sortIndex=Z,e(a,j),_||y||(_=!0,Xr(k))),j},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(j){var O=f;return function(){var A=f;f=O;try{return j.apply(this,arguments)}finally{f=A}}}})(lc);oc.exports=lc;var fh=oc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=M,Ie=fh;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ac=new Set,Pn={};function ur(t,e){Mr(t,e),Mr(t+"Capture",e)}function Mr(t,e){for(Pn[t]=e,t=0;t<e.length;t++)ac.add(e[t])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=Object.prototype.hasOwnProperty,ph=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_a={},Sa={};function gh(t){return go.call(Sa,t)?!0:go.call(_a,t)?!1:ph.test(t)?Sa[t]=!0:(_a[t]=!0,!1)}function mh(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yh(t,e,r,n){if(e===null||typeof e>"u"||mh(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ce[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ce[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ce[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ce[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ce[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ce[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ce[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ce[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ce[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var _l=/[\-:]([a-z])/g;function Sl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_l,Sl);ce[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_l,Sl);ce[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_l,Sl);ce[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ce[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});ce.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ce[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function xl(t,e,r,n){var s=ce.hasOwnProperty(e)?ce[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yh(e,r,s,n)&&(r=null),n||s===null?gh(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vt=hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),wr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),kl=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),uc=Symbol.for("react.provider"),cc=Symbol.for("react.context"),El=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),dc=Symbol.for("react.offscreen"),xa=Symbol.iterator;function en(t){return t===null||typeof t!="object"?null:(t=xa&&t[xa]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,Oi;function cn(t){if(Oi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Oi=e&&e[1]||""}return`
`+Oi+t}var Ii=!1;function Ai(t,e){if(!t||Ii)return"";Ii=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ii=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cn(t):""}function vh(t){switch(t.tag){case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return cn("Suspense");case 19:return cn("SuspenseList");case 0:case 2:case 15:return t=Ai(t.type,!1),t;case 11:return t=Ai(t.type.render,!1),t;case 1:return t=Ai(t.type,!0),t;default:return""}}function wo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _r:return"Fragment";case wr:return"Portal";case mo:return"Profiler";case kl:return"StrictMode";case yo:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cc:return(t.displayName||"Context")+".Consumer";case uc:return(t._context.displayName||"Context")+".Provider";case El:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bl:return e=t.displayName||null,e!==null?e:wo(t.type)||"Memo";case kt:e=t._payload,t=t._init;try{return wo(t(e))}catch{}}return null}function wh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(e);case 8:return e===kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _h(t){var e=fc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ns(t){t._valueTracker||(t._valueTracker=_h(t))}function hc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=fc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _o(t,e){var r=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ka(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Dt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pc(t,e){e=e.checked,e!=null&&xl(t,"checked",e,!1)}function So(t,e){pc(t,e);var r=Dt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xo(t,e.type,r):e.hasOwnProperty("defaultValue")&&xo(t,e.type,Dt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ea(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function xo(t,e,r){(e!=="number"||As(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var dn=Array.isArray;function Rr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Dt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ba(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(x(92));if(dn(r)){if(1<r.length)throw Error(x(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Dt(r)}}function gc(t,e){var r=Dt(e.value),n=Dt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ca(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ss,yc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sh=["Webkit","ms","Moz","O"];Object.keys(gn).forEach(function(t){Sh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gn[e]=gn[t]})});function vc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gn.hasOwnProperty(t)&&gn[t]?(""+e).trim():e+"px"}function wc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var xh=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(t,e){if(e){if(xh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Co(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Cl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var To=null,$r=null,Or=null;function ja(t){if(t=Jn(t)){if(typeof To!="function")throw Error(x(280));var e=t.stateNode;e&&(e=hi(e),To(t.stateNode,t.type,e))}}function _c(t){$r?Or?Or.push(t):Or=[t]:$r=t}function Sc(){if($r){var t=$r,e=Or;if(Or=$r=null,ja(t),e)for(t=0;t<e.length;t++)ja(e[t])}}function xc(t,e){return t(e)}function kc(){}var Li=!1;function Ec(t,e,r){if(Li)return t(e,r);Li=!0;try{return xc(t,e,r)}finally{Li=!1,($r!==null||Or!==null)&&(kc(),Sc())}}function Rn(t,e){var r=t.stateNode;if(r===null)return null;var n=hi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(x(231,e,typeof r));return r}var Po=!1;if(pt)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){Po=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{Po=!1}function kh(t,e,r,n,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var mn=!1,Ls=null,Us=!1,No=null,Eh={onError:function(t){mn=!0,Ls=t}};function bh(t,e,r,n,s,i,o,l,a){mn=!1,Ls=null,kh.apply(Eh,arguments)}function Ch(t,e,r,n,s,i,o,l,a){if(bh.apply(this,arguments),mn){if(mn){var u=Ls;mn=!1,Ls=null}else throw Error(x(198));Us||(Us=!0,No=u)}}function cr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ta(t){if(cr(t)!==t)throw Error(x(188))}function jh(t){var e=t.alternate;if(!e){if(e=cr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ta(s),t;if(i===n)return Ta(s),e;i=i.sibling}throw Error(x(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(x(189))}}if(r.alternate!==n)throw Error(x(190))}if(r.tag!==3)throw Error(x(188));return r.stateNode.current===r?t:e}function Cc(t){return t=jh(t),t!==null?jc(t):null}function jc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jc(t);if(e!==null)return e;t=t.sibling}return null}var Tc=Ie.unstable_scheduleCallback,Pa=Ie.unstable_cancelCallback,Th=Ie.unstable_shouldYield,Ph=Ie.unstable_requestPaint,X=Ie.unstable_now,Nh=Ie.unstable_getCurrentPriorityLevel,jl=Ie.unstable_ImmediatePriority,Pc=Ie.unstable_UserBlockingPriority,Ms=Ie.unstable_NormalPriority,Rh=Ie.unstable_LowPriority,Nc=Ie.unstable_IdlePriority,ui=null,it=null;function $h(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(ui,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Ah,Oh=Math.log,Ih=Math.LN2;function Ah(t){return t>>>=0,t===0?32:31-(Oh(t)/Ih|0)|0}var is=64,os=4194304;function fn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ds(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=fn(l):(i&=o,i!==0&&(n=fn(i)))}else o=r&~s,o!==0?n=fn(o):i!==0&&(n=fn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xe(e),s=1<<r,n|=t[r],e&=~s;return n}function Lh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uh(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=Lh(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Ro(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rc(){var t=is;return is<<=1,!(is&4194240)&&(is=64),t}function Ui(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Qn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=r}function Mh(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Xe(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Tl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var F=0;function $c(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Oc,Pl,Ic,Ac,Lc,$o=!1,ls=[],Rt=null,$t=null,Ot=null,$n=new Map,On=new Map,Ct=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Na(t,e){switch(t){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":$n.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(e.pointerId)}}function rn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Jn(e),e!==null&&Pl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Fh(t,e,r,n,s){switch(e){case"focusin":return Rt=rn(Rt,t,e,r,n,s),!0;case"dragenter":return $t=rn($t,t,e,r,n,s),!0;case"mouseover":return Ot=rn(Ot,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return $n.set(i,rn($n.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,On.set(i,rn(On.get(i)||null,t,e,r,n,s)),!0}return!1}function Uc(t){var e=Xt(t.target);if(e!==null){var r=cr(e);if(r!==null){if(e=r.tag,e===13){if(e=bc(r),e!==null){t.blockedOn=e,Lc(t.priority,function(){Ic(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Oo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);jo=n,r.target.dispatchEvent(n),jo=null}else return e=Jn(r),e!==null&&Pl(e),t.blockedOn=r,!1;e.shift()}return!0}function Ra(t,e,r){bs(t)&&r.delete(e)}function zh(){$o=!1,Rt!==null&&bs(Rt)&&(Rt=null),$t!==null&&bs($t)&&($t=null),Ot!==null&&bs(Ot)&&(Ot=null),$n.forEach(Ra),On.forEach(Ra)}function nn(t,e){t.blockedOn===e&&(t.blockedOn=null,$o||($o=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,zh)))}function In(t){function e(s){return nn(s,t)}if(0<ls.length){nn(ls[0],t);for(var r=1;r<ls.length;r++){var n=ls[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Rt!==null&&nn(Rt,t),$t!==null&&nn($t,t),Ot!==null&&nn(Ot,t),$n.forEach(e),On.forEach(e),r=0;r<Ct.length;r++)n=Ct[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)Uc(r),r.blockedOn===null&&Ct.shift()}var Ir=vt.ReactCurrentBatchConfig,Fs=!0;function Bh(t,e,r,n){var s=F,i=Ir.transition;Ir.transition=null;try{F=1,Nl(t,e,r,n)}finally{F=s,Ir.transition=i}}function Hh(t,e,r,n){var s=F,i=Ir.transition;Ir.transition=null;try{F=4,Nl(t,e,r,n)}finally{F=s,Ir.transition=i}}function Nl(t,e,r,n){if(Fs){var s=Oo(t,e,r,n);if(s===null)Ki(t,e,n,zs,r),Na(t,n);else if(Fh(s,t,e,r,n))n.stopPropagation();else if(Na(t,n),e&4&&-1<Dh.indexOf(t)){for(;s!==null;){var i=Jn(s);if(i!==null&&Oc(i),i=Oo(t,e,r,n),i===null&&Ki(t,e,n,zs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ki(t,e,n,null,r)}}var zs=null;function Oo(t,e,r,n){if(zs=null,t=Cl(n),t=Xt(t),t!==null)if(e=cr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zs=t,null}function Mc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nh()){case jl:return 1;case Pc:return 4;case Ms:case Rh:return 16;case Nc:return 536870912;default:return 16}default:return 16}}var Pt=null,Rl=null,Cs=null;function Dc(){if(Cs)return Cs;var t,e=Rl,r=e.length,n,s="value"in Pt?Pt.value:Pt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Cs=s.slice(t,1<n?1-n:void 0)}function js(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function $a(){return!1}function Le(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?as:$a,this.isPropagationStopped=$a,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),e}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Le(Kr),Gn=J({},Kr,{view:0,detail:0}),Vh=Le(Gn),Mi,Di,sn,ci=J({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sn&&(sn&&t.type==="mousemove"?(Mi=t.screenX-sn.screenX,Di=t.screenY-sn.screenY):Di=Mi=0,sn=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:Di}}),Oa=Le(ci),Wh=J({},ci,{dataTransfer:0}),qh=Le(Wh),Kh=J({},Gn,{relatedTarget:0}),Fi=Le(Kh),Qh=J({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gh=Le(Qh),Jh=J({},Kr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yh=Le(Jh),Xh=J({},Kr,{data:0}),Ia=Le(Xh),Zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tp[t])?!!e[t]:!1}function Ol(){return rp}var np=J({},Gn,{key:function(t){if(t.key){var e=Zh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ep[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(t){return t.type==="keypress"?js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sp=Le(np),ip=J({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=Le(ip),op=J({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),lp=Le(op),ap=J({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),up=Le(ap),cp=J({},ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dp=Le(cp),fp=[9,13,27,32],Il=pt&&"CompositionEvent"in window,yn=null;pt&&"documentMode"in document&&(yn=document.documentMode);var hp=pt&&"TextEvent"in window&&!yn,Fc=pt&&(!Il||yn&&8<yn&&11>=yn),La=" ",Ua=!1;function zc(t,e){switch(t){case"keyup":return fp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sr=!1;function pp(t,e){switch(t){case"compositionend":return Bc(e);case"keypress":return e.which!==32?null:(Ua=!0,La);case"textInput":return t=e.data,t===La&&Ua?null:t;default:return null}}function gp(t,e){if(Sr)return t==="compositionend"||!Il&&zc(t,e)?(t=Dc(),Cs=Rl=Pt=null,Sr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fc&&e.locale!=="ko"?null:e.data;default:return null}}var mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ma(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mp[t.type]:e==="textarea"}function Hc(t,e,r,n){_c(n),e=Bs(e,"onChange"),0<e.length&&(r=new $l("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vn=null,An=null;function yp(t){ed(t,0)}function di(t){var e=Er(t);if(hc(e))return t}function vp(t,e){if(t==="change")return e}var Vc=!1;if(pt){var zi;if(pt){var Bi="oninput"in document;if(!Bi){var Da=document.createElement("div");Da.setAttribute("oninput","return;"),Bi=typeof Da.oninput=="function"}zi=Bi}else zi=!1;Vc=zi&&(!document.documentMode||9<document.documentMode)}function Fa(){vn&&(vn.detachEvent("onpropertychange",Wc),An=vn=null)}function Wc(t){if(t.propertyName==="value"&&di(An)){var e=[];Hc(e,An,t,Cl(t)),Ec(yp,e)}}function wp(t,e,r){t==="focusin"?(Fa(),vn=e,An=r,vn.attachEvent("onpropertychange",Wc)):t==="focusout"&&Fa()}function _p(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return di(An)}function Sp(t,e){if(t==="click")return di(e)}function xp(t,e){if(t==="input"||t==="change")return di(e)}function kp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:kp;function Ln(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!go.call(e,s)||!et(t[s],e[s]))return!1}return!0}function za(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ba(t,e){var r=za(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=za(r)}}function qc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kc(){for(var t=window,e=As();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=As(t.document)}return e}function Al(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ep(t){var e=Kc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&qc(r.ownerDocument.documentElement,r)){if(n!==null&&Al(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Ba(r,i);var o=Ba(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bp=pt&&"documentMode"in document&&11>=document.documentMode,xr=null,Io=null,wn=null,Ao=!1;function Ha(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ao||xr==null||xr!==As(n)||(n=xr,"selectionStart"in n&&Al(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wn&&Ln(wn,n)||(wn=n,n=Bs(Io,"onSelect"),0<n.length&&(e=new $l("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xr)))}function us(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var kr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Hi={},Qc={};pt&&(Qc=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function fi(t){if(Hi[t])return Hi[t];if(!kr[t])return t;var e=kr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Qc)return Hi[t]=e[r];return t}var Gc=fi("animationend"),Jc=fi("animationiteration"),Yc=fi("animationstart"),Xc=fi("transitionend"),Zc=new Map,Va="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(t,e){Zc.set(t,e),ur(e,[t])}for(var Vi=0;Vi<Va.length;Vi++){var Wi=Va[Vi],Cp=Wi.toLowerCase(),jp=Wi[0].toUpperCase()+Wi.slice(1);zt(Cp,"on"+jp)}zt(Gc,"onAnimationEnd");zt(Jc,"onAnimationIteration");zt(Yc,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(Xc,"onTransitionEnd");Mr("onMouseEnter",["mouseout","mouseover"]);Mr("onMouseLeave",["mouseout","mouseover"]);Mr("onPointerEnter",["pointerout","pointerover"]);Mr("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tp=new Set("cancel close invalid load scroll toggle".split(" ").concat(hn));function Wa(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Ch(n,e,void 0,t),t.currentTarget=null}function ed(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Wa(s,l,u),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Wa(s,l,u),i=a}}}if(Us)throw t=No,Us=!1,No=null,t}function V(t,e){var r=e[Fo];r===void 0&&(r=e[Fo]=new Set);var n=t+"__bubble";r.has(n)||(td(e,t,2,!1),r.add(n))}function qi(t,e,r){var n=0;e&&(n|=4),td(r,t,n,e)}var cs="_reactListening"+Math.random().toString(36).slice(2);function Un(t){if(!t[cs]){t[cs]=!0,ac.forEach(function(r){r!=="selectionchange"&&(Tp.has(r)||qi(r,!1,t),qi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cs]||(e[cs]=!0,qi("selectionchange",!1,e))}}function td(t,e,r,n){switch(Mc(e)){case 1:var s=Bh;break;case 4:s=Hh;break;default:s=Nl}r=s.bind(null,e,r,t),s=void 0,!Po||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ki(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Xt(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Ec(function(){var u=i,c=Cl(r),d=[];e:{var f=Zc.get(t);if(f!==void 0){var y=$l,_=t;switch(t){case"keypress":if(js(r)===0)break e;case"keydown":case"keyup":y=sp;break;case"focusin":_="focus",y=Fi;break;case"focusout":_="blur",y=Fi;break;case"beforeblur":case"afterblur":y=Fi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=lp;break;case Gc:case Jc:case Yc:y=Gh;break;case Xc:y=up;break;case"scroll":y=Vh;break;case"wheel":y=dp;break;case"copy":case"cut":case"paste":y=Yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Aa}var v=(e&4)!==0,b=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=Rn(p,m),w!=null&&v.push(Mn(p,w,g)))),b)break;p=p.return}0<v.length&&(f=new y(f,_,null,r,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==jo&&(_=r.relatedTarget||r.fromElement)&&(Xt(_)||_[gt]))break e;if((y||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,y?(_=r.relatedTarget||r.toElement,y=u,_=_?Xt(_):null,_!==null&&(b=cr(_),_!==b||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=u),y!==_)){if(v=Oa,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Aa,w="onPointerLeave",m="onPointerEnter",p="pointer"),b=y==null?f:Er(y),g=_==null?f:Er(_),f=new v(w,p+"leave",y,r,c),f.target=b,f.relatedTarget=g,w=null,Xt(c)===u&&(v=new v(m,p+"enter",_,r,c),v.target=g,v.relatedTarget=b,w=v),b=w,y&&_)t:{for(v=y,m=_,p=0,g=v;g;g=hr(g))p++;for(g=0,w=m;w;w=hr(w))g++;for(;0<p-g;)v=hr(v),p--;for(;0<g-p;)m=hr(m),g--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=hr(v),m=hr(m)}v=null}else v=null;y!==null&&qa(d,f,y,v,!1),_!==null&&b!==null&&qa(d,b,_,v,!0)}}e:{if(f=u?Er(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=vp;else if(Ma(f))if(Vc)k=xp;else{k=_p;var E=wp}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Sp);if(k&&(k=k(t,u))){Hc(d,k,r,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&xo(f,"number",f.value)}switch(E=u?Er(u):window,t){case"focusin":(Ma(E)||E.contentEditable==="true")&&(xr=E,Io=u,wn=null);break;case"focusout":wn=Io=xr=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,Ha(d,r,c);break;case"selectionchange":if(bp)break;case"keydown":case"keyup":Ha(d,r,c)}var C;if(Il)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Sr?zc(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Fc&&r.locale!=="ko"&&(Sr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Sr&&(C=Dc()):(Pt=c,Rl="value"in Pt?Pt.value:Pt.textContent,Sr=!0)),E=Bs(u,P),0<E.length&&(P=new Ia(P,t,null,r,c),d.push({event:P,listeners:E}),C?P.data=C:(C=Bc(r),C!==null&&(P.data=C)))),(C=hp?pp(t,r):gp(t,r))&&(u=Bs(u,"onBeforeInput"),0<u.length&&(c=new Ia("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=C))}ed(d,e)})}function Mn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Bs(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rn(t,r),i!=null&&n.unshift(Mn(t,i,s)),i=Rn(t,e),i!=null&&n.push(Mn(t,i,s))),t=t.return}return n}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qa(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=Rn(r,i),a!=null&&o.unshift(Mn(r,a,l))):s||(a=Rn(r,i),a!=null&&o.push(Mn(r,a,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Pp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function Ka(t){return(typeof t=="string"?t:""+t).replace(Pp,`
`).replace(Np,"")}function ds(t,e,r){if(e=Ka(e),Ka(t)!==e&&r)throw Error(x(425))}function Hs(){}var Lo=null,Uo=null;function Mo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,Rp=typeof clearTimeout=="function"?clearTimeout:void 0,Qa=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Qa<"u"?function(t){return Qa.resolve(null).then(t).catch(Op)}:Do;function Op(t){setTimeout(function(){throw t})}function Qi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),In(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);In(e)}function It(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ga(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),st="__reactFiber$"+Qr,Dn="__reactProps$"+Qr,gt="__reactContainer$"+Qr,Fo="__reactEvents$"+Qr,Ip="__reactListeners$"+Qr,Ap="__reactHandles$"+Qr;function Xt(t){var e=t[st];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gt]||r[st]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ga(t);t!==null;){if(r=t[st])return r;t=Ga(t)}return e}t=r,r=t.parentNode}return null}function Jn(t){return t=t[st]||t[gt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Er(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function hi(t){return t[Dn]||null}var zo=[],br=-1;function Bt(t){return{current:t}}function W(t){0>br||(t.current=zo[br],zo[br]=null,br--)}function H(t,e){br++,zo[br]=t.current,t.current=e}var Ft={},me=Bt(Ft),Ce=Bt(!1),sr=Ft;function Dr(t,e){var r=t.type.contextTypes;if(!r)return Ft;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function je(t){return t=t.childContextTypes,t!=null}function Vs(){W(Ce),W(me)}function Ja(t,e,r){if(me.current!==Ft)throw Error(x(168));H(me,e),H(Ce,r)}function rd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(x(108,wh(t)||"Unknown",s));return J({},r,n)}function Ws(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ft,sr=me.current,H(me,t),H(Ce,Ce.current),!0}function Ya(t,e,r){var n=t.stateNode;if(!n)throw Error(x(169));r?(t=rd(t,e,sr),n.__reactInternalMemoizedMergedChildContext=t,W(Ce),W(me),H(me,t)):W(Ce),H(Ce,r)}var ct=null,pi=!1,Gi=!1;function nd(t){ct===null?ct=[t]:ct.push(t)}function Lp(t){pi=!0,nd(t)}function Ht(){if(!Gi&&ct!==null){Gi=!0;var t=0,e=F;try{var r=ct;for(F=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ct=null,pi=!1}catch(s){throw ct!==null&&(ct=ct.slice(t+1)),Tc(jl,Ht),s}finally{F=e,Gi=!1}}return null}var Cr=[],jr=0,qs=null,Ks=0,De=[],Fe=0,ir=null,dt=1,ft="";function Qt(t,e){Cr[jr++]=Ks,Cr[jr++]=qs,qs=t,Ks=e}function sd(t,e,r){De[Fe++]=dt,De[Fe++]=ft,De[Fe++]=ir,ir=t;var n=dt;t=ft;var s=32-Xe(n)-1;n&=~(1<<s),r+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,dt=1<<32-Xe(e)+s|r<<s|n,ft=i+t}else dt=1<<i|r<<s|n,ft=t}function Ll(t){t.return!==null&&(Qt(t,1),sd(t,1,0))}function Ul(t){for(;t===qs;)qs=Cr[--jr],Cr[jr]=null,Ks=Cr[--jr],Cr[jr]=null;for(;t===ir;)ir=De[--Fe],De[Fe]=null,ft=De[--Fe],De[Fe]=null,dt=De[--Fe],De[Fe]=null}var Oe=null,$e=null,q=!1,Ye=null;function id(t,e){var r=ze(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Xa(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oe=t,$e=It(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oe=t,$e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ir!==null?{id:dt,overflow:ft}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ze(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Oe=t,$e=null,!0):!1;default:return!1}}function Bo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ho(t){if(q){var e=$e;if(e){var r=e;if(!Xa(t,e)){if(Bo(t))throw Error(x(418));e=It(r.nextSibling);var n=Oe;e&&Xa(t,e)?id(n,r):(t.flags=t.flags&-4097|2,q=!1,Oe=t)}}else{if(Bo(t))throw Error(x(418));t.flags=t.flags&-4097|2,q=!1,Oe=t}}}function Za(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oe=t}function fs(t){if(t!==Oe)return!1;if(!q)return Za(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mo(t.type,t.memoizedProps)),e&&(e=$e)){if(Bo(t))throw od(),Error(x(418));for(;e;)id(t,e),e=It(e.nextSibling)}if(Za(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$e=It(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$e=null}}else $e=Oe?It(t.stateNode.nextSibling):null;return!0}function od(){for(var t=$e;t;)t=It(t.nextSibling)}function Fr(){$e=Oe=null,q=!1}function Ml(t){Ye===null?Ye=[t]:Ye.push(t)}var Up=vt.ReactCurrentBatchConfig;function on(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(x(309));var n=r.stateNode}if(!n)throw Error(x(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(x(284));if(!r._owner)throw Error(x(290,t))}return t}function hs(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eu(t){var e=t._init;return e(t._payload)}function ld(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Mt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,w){return p===null||p.tag!==6?(p=ro(g,m.mode,w),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,w){var k=g.type;return k===_r?c(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kt&&eu(k)===p.type)?(w=s(p,g.props),w.ref=on(m,p,g),w.return=m,w):(w=Is(g.type,g.key,g.props,null,m.mode,w),w.ref=on(m,p,g),w.return=m,w)}function u(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=no(g,m.mode,w),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function c(m,p,g,w,k){return p===null||p.tag!==7?(p=rr(g,m.mode,w,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ro(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case rs:return g=Is(p.type,p.key,p.props,null,m.mode,g),g.ref=on(m,null,p),g.return=m,g;case wr:return p=no(p,m.mode,g),p.return=m,p;case kt:var w=p._init;return d(m,w(p._payload),g)}if(dn(p)||en(p))return p=rr(p,m.mode,g,null),p.return=m,p;hs(m,p)}return null}function f(m,p,g,w){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:return g.key===k?a(m,p,g,w):null;case wr:return g.key===k?u(m,p,g,w):null;case kt:return k=g._init,f(m,p,k(g._payload),w)}if(dn(g)||en(g))return k!==null?null:c(m,p,g,w,null);hs(m,g)}return null}function y(m,p,g,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(p,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rs:return m=m.get(w.key===null?g:w.key)||null,a(p,m,w,k);case wr:return m=m.get(w.key===null?g:w.key)||null,u(p,m,w,k);case kt:var E=w._init;return y(m,p,g,E(w._payload),k)}if(dn(w)||en(w))return m=m.get(g)||null,c(p,m,w,k,null);hs(p,w)}return null}function _(m,p,g,w){for(var k=null,E=null,C=p,P=p=0,z=null;C!==null&&P<g.length;P++){C.index>P?(z=C,C=null):z=C.sibling;var $=f(m,C,g[P],w);if($===null){C===null&&(C=z);break}t&&C&&$.alternate===null&&e(m,C),p=i($,p,P),E===null?k=$:E.sibling=$,E=$,C=z}if(P===g.length)return r(m,C),q&&Qt(m,P),k;if(C===null){for(;P<g.length;P++)C=d(m,g[P],w),C!==null&&(p=i(C,p,P),E===null?k=C:E.sibling=C,E=C);return q&&Qt(m,P),k}for(C=n(m,C);P<g.length;P++)z=y(C,m,P,g[P],w),z!==null&&(t&&z.alternate!==null&&C.delete(z.key===null?P:z.key),p=i(z,p,P),E===null?k=z:E.sibling=z,E=z);return t&&C.forEach(function(de){return e(m,de)}),q&&Qt(m,P),k}function v(m,p,g,w){var k=en(g);if(typeof k!="function")throw Error(x(150));if(g=k.call(g),g==null)throw Error(x(151));for(var E=k=null,C=p,P=p=0,z=null,$=g.next();C!==null&&!$.done;P++,$=g.next()){C.index>P?(z=C,C=null):z=C.sibling;var de=f(m,C,$.value,w);if(de===null){C===null&&(C=z);break}t&&C&&de.alternate===null&&e(m,C),p=i(de,p,P),E===null?k=de:E.sibling=de,E=de,C=z}if($.done)return r(m,C),q&&Qt(m,P),k;if(C===null){for(;!$.done;P++,$=g.next())$=d(m,$.value,w),$!==null&&(p=i($,p,P),E===null?k=$:E.sibling=$,E=$);return q&&Qt(m,P),k}for(C=n(m,C);!$.done;P++,$=g.next())$=y(C,m,P,$.value,w),$!==null&&(t&&$.alternate!==null&&C.delete($.key===null?P:$.key),p=i($,p,P),E===null?k=$:E.sibling=$,E=$);return t&&C.forEach(function(wt){return e(m,wt)}),q&&Qt(m,P),k}function b(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===_r&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:e:{for(var k=g.key,E=p;E!==null;){if(E.key===k){if(k=g.type,k===_r){if(E.tag===7){r(m,E.sibling),p=s(E,g.props.children),p.return=m,m=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===kt&&eu(k)===E.type){r(m,E.sibling),p=s(E,g.props),p.ref=on(m,E,g),p.return=m,m=p;break e}r(m,E);break}else e(m,E);E=E.sibling}g.type===_r?(p=rr(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=Is(g.type,g.key,g.props,null,m.mode,w),w.ref=on(m,p,g),w.return=m,m=w)}return o(m);case wr:e:{for(E=g.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=no(g,m.mode,w),p.return=m,m=p}return o(m);case kt:return E=g._init,b(m,p,E(g._payload),w)}if(dn(g))return _(m,p,g,w);if(en(g))return v(m,p,g,w);hs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=ro(g,m.mode,w),p.return=m,m=p),o(m)):r(m,p)}return b}var zr=ld(!0),ad=ld(!1),Qs=Bt(null),Gs=null,Tr=null,Dl=null;function Fl(){Dl=Tr=Gs=null}function zl(t){var e=Qs.current;W(Qs),t._currentValue=e}function Vo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ar(t,e){Gs=t,Dl=Tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function Ve(t){var e=t._currentValue;if(Dl!==t)if(t={context:t,memoizedValue:e,next:null},Tr===null){if(Gs===null)throw Error(x(308));Tr=t,Gs.dependencies={lanes:0,firstContext:t}}else Tr=Tr.next=t;return e}var Zt=null;function Bl(t){Zt===null?Zt=[t]:Zt.push(t)}function ud(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Bl(e)):(r.next=s.next,s.next=r),e.interleaved=r,mt(t,n)}function mt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Et=!1;function Hl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,mt(t,r)}return s=n.interleaved,s===null?(e.next=e,Bl(n)):(e.next=s.next,s.next=e),n.interleaved=e,mt(t,r)}function Ts(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tl(t,r)}}function tu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Js(t,e,r,n){var s=t.updateQueue;Et=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,c=u=a=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,v=l;switch(f=e,y=r,v.tag){case 1:if(_=v.payload,typeof _=="function"){d=_.call(y,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(y,d,f):_,f==null)break e;d=J({},d,f);break e;case 2:Et=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=d):c=c.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);lr|=o,t.lanes=o,t.memoizedState=d}}function ru(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(x(191,s));s.call(n)}}}var Yn={},ot=Bt(Yn),Fn=Bt(Yn),zn=Bt(Yn);function er(t){if(t===Yn)throw Error(x(174));return t}function Vl(t,e){switch(H(zn,e),H(Fn,t),H(ot,Yn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eo(e,t)}W(ot),H(ot,e)}function Br(){W(ot),W(Fn),W(zn)}function dd(t){er(zn.current);var e=er(ot.current),r=Eo(e,t.type);e!==r&&(H(Fn,t),H(ot,r))}function Wl(t){Fn.current===t&&(W(ot),W(Fn))}var Q=Bt(0);function Ys(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ji=[];function ql(){for(var t=0;t<Ji.length;t++)Ji[t]._workInProgressVersionPrimary=null;Ji.length=0}var Ps=vt.ReactCurrentDispatcher,Yi=vt.ReactCurrentBatchConfig,or=0,G=null,re=null,oe=null,Xs=!1,_n=!1,Bn=0,Mp=0;function fe(){throw Error(x(321))}function Kl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!et(t[r],e[r]))return!1;return!0}function Ql(t,e,r,n,s,i){if(or=i,G=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ps.current=t===null||t.memoizedState===null?Bp:Hp,t=r(n,s),_n){i=0;do{if(_n=!1,Bn=0,25<=i)throw Error(x(301));i+=1,oe=re=null,e.updateQueue=null,Ps.current=Vp,t=r(n,s)}while(_n)}if(Ps.current=Zs,e=re!==null&&re.next!==null,or=0,oe=re=G=null,Xs=!1,e)throw Error(x(300));return t}function Gl(){var t=Bn!==0;return Bn=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?G.memoizedState=oe=t:oe=oe.next=t,oe}function We(){if(re===null){var t=G.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=oe===null?G.memoizedState:oe.next;if(e!==null)oe=e,re=t;else{if(t===null)throw Error(x(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},oe===null?G.memoizedState=oe=t:oe=oe.next=t}return oe}function Hn(t,e){return typeof e=="function"?e(t):e}function Xi(t){var e=We(),r=e.queue;if(r===null)throw Error(x(311));r.lastRenderedReducer=t;var n=re,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((or&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=n):a=a.next=d,G.lanes|=c,lr|=c}u=u.next}while(u!==null&&u!==i);a===null?o=n:a.next=l,et(n,e.memoizedState)||(be=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,G.lanes|=i,lr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Zi(t){var e=We(),r=e.queue;if(r===null)throw Error(x(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function fd(){}function hd(t,e){var r=G,n=We(),s=e(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,be=!0),n=n.queue,Jl(md.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||oe!==null&&oe.memoizedState.tag&1){if(r.flags|=2048,Vn(9,gd.bind(null,r,n,s,e),void 0,null),le===null)throw Error(x(349));or&30||pd(r,e,s)}return s}function pd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function gd(t,e,r,n){e.value=r,e.getSnapshot=n,yd(e)&&vd(t)}function md(t,e,r){return r(function(){yd(e)&&vd(t)})}function yd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!et(t,r)}catch{return!0}}function vd(t){var e=mt(t,1);e!==null&&Ze(e,t,1,-1)}function nu(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:t},e.queue=t,t=t.dispatch=zp.bind(null,G,t),[e.memoizedState,t]}function Vn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=G.updateQueue,e===null?(e={lastEffect:null,stores:null},G.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wd(){return We().memoizedState}function Ns(t,e,r,n){var s=nt();G.flags|=t,s.memoizedState=Vn(1|e,r,void 0,n===void 0?null:n)}function gi(t,e,r,n){var s=We();n=n===void 0?null:n;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,n!==null&&Kl(n,o.deps)){s.memoizedState=Vn(e,r,i,n);return}}G.flags|=t,s.memoizedState=Vn(1|e,r,i,n)}function su(t,e){return Ns(8390656,8,t,e)}function Jl(t,e){return gi(2048,8,t,e)}function _d(t,e){return gi(4,2,t,e)}function Sd(t,e){return gi(4,4,t,e)}function xd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kd(t,e,r){return r=r!=null?r.concat([t]):null,gi(4,4,xd.bind(null,e,t),r)}function Yl(){}function Ed(t,e){var r=We();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function bd(t,e){var r=We();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Cd(t,e,r){return or&21?(et(r,e)||(r=Rc(),G.lanes|=r,lr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=r)}function Dp(t,e){var r=F;F=r!==0&&4>r?r:4,t(!0);var n=Yi.transition;Yi.transition={};try{t(!1),e()}finally{F=r,Yi.transition=n}}function jd(){return We().memoizedState}function Fp(t,e,r){var n=Ut(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Td(t))Pd(e,r);else if(r=ud(t,e,r,n),r!==null){var s=ve();Ze(r,t,n,s),Nd(r,e,n)}}function zp(t,e,r){var n=Ut(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Td(t))Pd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,et(l,o)){var a=e.interleaved;a===null?(s.next=s,Bl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}r=ud(t,e,s,n),r!==null&&(s=ve(),Ze(r,t,n,s),Nd(r,e,n))}}function Td(t){var e=t.alternate;return t===G||e!==null&&e===G}function Pd(t,e){_n=Xs=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Nd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tl(t,r)}}var Zs={readContext:Ve,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},Bp={readContext:Ve,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:su,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ns(4194308,4,xd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ns(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ns(4,2,t,e)},useMemo:function(t,e){var r=nt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Fp.bind(null,G,t),[n.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:nu,useDebugValue:Yl,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=nu(!1),e=t[0];return t=Dp.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=G,s=nt();if(q){if(r===void 0)throw Error(x(407));r=r()}else{if(r=e(),le===null)throw Error(x(349));or&30||pd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,su(md.bind(null,n,i,t),[t]),n.flags|=2048,Vn(9,gd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=nt(),e=le.identifierPrefix;if(q){var r=ft,n=dt;r=(n&~(1<<32-Xe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Mp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hp={readContext:Ve,useCallback:Ed,useContext:Ve,useEffect:Jl,useImperativeHandle:kd,useInsertionEffect:_d,useLayoutEffect:Sd,useMemo:bd,useReducer:Xi,useRef:wd,useState:function(){return Xi(Hn)},useDebugValue:Yl,useDeferredValue:function(t){var e=We();return Cd(e,re.memoizedState,t)},useTransition:function(){var t=Xi(Hn)[0],e=We().memoizedState;return[t,e]},useMutableSource:fd,useSyncExternalStore:hd,useId:jd,unstable_isNewReconciler:!1},Vp={readContext:Ve,useCallback:Ed,useContext:Ve,useEffect:Jl,useImperativeHandle:kd,useInsertionEffect:_d,useLayoutEffect:Sd,useMemo:bd,useReducer:Zi,useRef:wd,useState:function(){return Zi(Hn)},useDebugValue:Yl,useDeferredValue:function(t){var e=We();return re===null?e.memoizedState=t:Cd(e,re.memoizedState,t)},useTransition:function(){var t=Zi(Hn)[0],e=We().memoizedState;return[t,e]},useMutableSource:fd,useSyncExternalStore:hd,useId:jd,unstable_isNewReconciler:!1};function Qe(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Wo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:J({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mi={isMounted:function(t){return(t=t._reactInternals)?cr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ve(),s=Ut(t),i=ht(n,s);i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ze(e,t,s,n),Ts(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ve(),s=Ut(t),i=ht(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ze(e,t,s,n),Ts(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ve(),n=Ut(t),s=ht(r,n);s.tag=2,e!=null&&(s.callback=e),e=At(t,s,n),e!==null&&(Ze(e,t,n,r),Ts(e,t,n))}};function iu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ln(r,n)||!Ln(s,i):!0}function Rd(t,e,r){var n=!1,s=Ft,i=e.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=je(e)?sr:me.current,n=e.contextTypes,i=(n=n!=null)?Dr(t,s):Ft),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ou(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mi.enqueueReplaceState(e,e.state,null)}function qo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Hl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=je(e)?sr:me.current,s.context=Dr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mi.enqueueReplaceState(s,s.state,null),Js(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Hr(t,e){try{var r="",n=e;do r+=vh(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function eo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ko(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function $d(t,e,r){r=ht(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ti||(ti=!0,nl=n),Ko(t,e)},r}function Od(t,e,r){r=ht(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ko(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ko(t,e),typeof n!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function lu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Wp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=ig.bind(null,t,e,r),e.then(t,t))}function au(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ht(-1,1),e.tag=2,At(r,e,1))),r.lanes|=1),t)}var qp=vt.ReactCurrentOwner,be=!1;function ye(t,e,r,n){e.child=t===null?ad(e,null,r,n):zr(e,t.child,r,n)}function cu(t,e,r,n,s){r=r.render;var i=e.ref;return Ar(e,s),n=Ql(t,e,r,n,i,s),r=Gl(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yt(t,e,s)):(q&&r&&Ll(e),e.flags|=1,ye(t,e,n,s),e.child)}function du(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ia(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Id(t,e,i,n,s)):(t=Is(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ln,r(o,n)&&t.ref===e.ref)return yt(t,e,s)}return e.flags|=1,t=Mt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Id(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ln(i,n)&&t.ref===e.ref)if(be=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,yt(t,e,s)}return Qo(t,e,r,n,s)}function Ad(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Nr,Re),Re|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Nr,Re),Re|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(Nr,Re),Re|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,H(Nr,Re),Re|=n;return ye(t,e,s,r),e.child}function Ld(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qo(t,e,r,n,s){var i=je(r)?sr:me.current;return i=Dr(e,i),Ar(e,s),r=Ql(t,e,r,n,i,s),n=Gl(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yt(t,e,s)):(q&&n&&Ll(e),e.flags|=1,ye(t,e,r,s),e.child)}function fu(t,e,r,n,s){if(je(r)){var i=!0;Ws(e)}else i=!1;if(Ar(e,s),e.stateNode===null)Rs(t,e),Rd(e,r,n),qo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=je(r)?sr:me.current,u=Dr(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&ou(e,o,n,u),Et=!1;var f=e.memoizedState;o.state=f,Js(e,n,o,s),a=e.memoizedState,l!==n||f!==a||Ce.current||Et?(typeof c=="function"&&(Wo(e,r,c,n),a=e.memoizedState),(l=Et||iu(e,r,l,n,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,cd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Qe(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=Ve(a):(a=je(r)?sr:me.current,a=Dr(e,a));var y=r.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&ou(e,o,n,a),Et=!1,f=e.memoizedState,o.state=f,Js(e,n,o,s);var _=e.memoizedState;l!==d||f!==_||Ce.current||Et?(typeof y=="function"&&(Wo(e,r,y,n),_=e.memoizedState),(u=Et||iu(e,r,u,n,f,_,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Go(t,e,r,n,i,s)}function Go(t,e,r,n,s,i){Ld(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Ya(e,r,!1),yt(t,e,i);n=e.stateNode,qp.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=zr(e,t.child,null,i),e.child=zr(e,null,l,i)):ye(t,e,l,i),e.memoizedState=n.state,s&&Ya(e,r,!0),e.child}function Ud(t){var e=t.stateNode;e.pendingContext?Ja(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ja(t,e.context,!1),Vl(t,e.containerInfo)}function hu(t,e,r,n,s){return Fr(),Ml(s),e.flags|=256,ye(t,e,r,n),e.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Yo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,e,r){var n=e.pendingProps,s=Q.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),H(Q,s&1),t===null)return Ho(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wi(o,n,0,null),t=rr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yo(r),e.memoizedState=Jo,t):Xl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Kp(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Mt(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Mt(l,i):(i=rr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Yo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Jo,n}return i=t.child,t=i.sibling,n=Mt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Xl(t,e){return e=wi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ps(t,e,r,n){return n!==null&&Ml(n),zr(e,t.child,null,r),t=Xl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=eo(Error(x(422))),ps(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=wi({mode:"visible",children:n.children},s,0,null),i=rr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&zr(e,t.child,null,o),e.child.memoizedState=Yo(o),e.memoizedState=Jo,i);if(!(e.mode&1))return ps(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(x(419)),n=eo(i,n,void 0),ps(t,e,o,n)}if(l=(o&t.childLanes)!==0,be||l){if(n=le,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mt(t,s),Ze(n,t,s,-1))}return sa(),n=eo(Error(x(421))),ps(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=og.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$e=It(s.nextSibling),Oe=e,q=!0,Ye=null,t!==null&&(De[Fe++]=dt,De[Fe++]=ft,De[Fe++]=ir,dt=t.id,ft=t.overflow,ir=e),e=Xl(e,n.children),e.flags|=4096,e)}function pu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Vo(t.return,e,r)}function to(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ye(t,e,n.children,r),n=Q.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pu(t,r,e);else if(t.tag===19)pu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(H(Q,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ys(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),to(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ys(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}to(e,!0,r,null,i);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),lr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,r=Mt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Mt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Qp(t,e,r){switch(e.tag){case 3:Ud(e),Fr();break;case 5:dd(e);break;case 1:je(e.type)&&Ws(e);break;case 4:Vl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;H(Qs,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(H(Q,Q.current&1),e.flags|=128,null):r&e.child.childLanes?Md(t,e,r):(H(Q,Q.current&1),t=yt(t,e,r),t!==null?t.sibling:null);H(Q,Q.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Dd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Q,Q.current),n)break;return null;case 22:case 23:return e.lanes=0,Ad(t,e,r)}return yt(t,e,r)}var Fd,Xo,zd,Bd;Fd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xo=function(){};zd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,er(ot.current);var i=null;switch(r){case"input":s=_o(t,s),n=_o(t,n),i=[];break;case"select":s=J({},s,{value:void 0}),n=J({},n,{value:void 0}),i=[];break;case"textarea":s=ko(t,s),n=ko(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hs)}bo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pn.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&V("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Bd=function(t,e,r,n){r!==n&&(e.flags|=4)};function ln(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Gp(t,e,r){var n=e.pendingProps;switch(Ul(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return je(e.type)&&Vs(),he(e),null;case 3:return n=e.stateNode,Br(),W(Ce),W(me),ql(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(ol(Ye),Ye=null))),Xo(t,e),he(e),null;case 5:Wl(e);var s=er(zn.current);if(r=e.type,t!==null&&e.stateNode!=null)zd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(x(166));return he(e),null}if(t=er(ot.current),fs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[st]=e,n[Dn]=i,t=(e.mode&1)!==0,r){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(s=0;s<hn.length;s++)V(hn[s],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":ka(n,i),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},V("invalid",n);break;case"textarea":ba(n,i),V("invalid",n)}bo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ds(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ds(n.textContent,l,t),s=["children",""+l]):Pn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&V("scroll",n)}switch(r){case"input":ns(n),Ea(n,i,!0);break;case"textarea":ns(n),Ca(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[st]=e,t[Dn]=n,Fd(t,e,!1,!1),e.stateNode=t;e:{switch(o=Co(r,n),r){case"dialog":V("cancel",t),V("close",t),s=n;break;case"iframe":case"object":case"embed":V("load",t),s=n;break;case"video":case"audio":for(s=0;s<hn.length;s++)V(hn[s],t);s=n;break;case"source":V("error",t),s=n;break;case"img":case"image":case"link":V("error",t),V("load",t),s=n;break;case"details":V("toggle",t),s=n;break;case"input":ka(t,n),s=_o(t,n),V("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=J({},n,{value:void 0}),V("invalid",t);break;case"textarea":ba(t,n),s=ko(t,n),V("invalid",t);break;default:s=n}bo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?wc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&yc(t,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Nn(t,a):typeof a=="number"&&Nn(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pn.hasOwnProperty(i)?a!=null&&i==="onScroll"&&V("scroll",t):a!=null&&xl(t,i,a,o))}switch(r){case"input":ns(t),Ea(t,n,!1);break;case"textarea":ns(t),Ca(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Dt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Rr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Rr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)Bd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(x(166));if(r=er(zn.current),er(ot.current),fs(e)){if(n=e.stateNode,r=e.memoizedProps,n[st]=e,(i=n.nodeValue!==r)&&(t=Oe,t!==null))switch(t.tag){case 3:ds(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ds(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[st]=e,e.stateNode=n}return he(e),null;case 13:if(W(Q),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&$e!==null&&e.mode&1&&!(e.flags&128))od(),Fr(),e.flags|=98560,i=!1;else if(i=fs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(x(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[st]=e}else Fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else Ye!==null&&(ol(Ye),Ye=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?ne===0&&(ne=3):sa())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Br(),Xo(t,e),t===null&&Un(e.stateNode.containerInfo),he(e),null;case 10:return zl(e.type._context),he(e),null;case 17:return je(e.type)&&Vs(),he(e),null;case 19:if(W(Q),i=e.memoizedState,i===null)return he(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)ln(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ys(t),o!==null){for(e.flags|=128,ln(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return H(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&X()>Vr&&(e.flags|=128,n=!0,ln(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ys(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ln(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return he(e),null}else 2*X()-i.renderingStartTime>Vr&&r!==1073741824&&(e.flags|=128,n=!0,ln(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=X(),e.sibling=null,r=Q.current,H(Q,n?r&1|2:r&1),e):(he(e),null);case 22:case 23:return na(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Re&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function Jp(t,e){switch(Ul(e),e.tag){case 1:return je(e.type)&&Vs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Br(),W(Ce),W(me),ql(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wl(e),null;case 13:if(W(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(Q),null;case 4:return Br(),null;case 10:return zl(e.type._context),null;case 22:case 23:return na(),null;case 24:return null;default:return null}}var gs=!1,ge=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,T=null;function Pr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Y(t,e,n)}else r.current=null}function Zo(t,e,r){try{r()}catch(n){Y(t,e,n)}}var gu=!1;function Xp(t,e){if(Lo=Fs,t=Kc(),Al(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var y;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(a=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===r&&++u===s&&(l=o),f===i&&++c===n&&(a=o),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uo={focusedElem:t,selectionRange:r},Fs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,b=_.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Qe(e.type,v),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(w){Y(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return _=gu,gu=!1,_}function Sn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zo(e,r,i)}s=s.next}while(s!==n)}}function yi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function el(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Hd(t){var e=t.alternate;e!==null&&(t.alternate=null,Hd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[Dn],delete e[Fo],delete e[Ip],delete e[Ap])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vd(t){return t.tag===5||t.tag===3||t.tag===4}function mu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hs));else if(n!==4&&(t=t.child,t!==null))for(tl(t,e,r),t=t.sibling;t!==null;)tl(t,e,r),t=t.sibling}function rl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(rl(t,e,r),t=t.sibling;t!==null;)rl(t,e,r),t=t.sibling}var ae=null,Ge=!1;function St(t,e,r){for(r=r.child;r!==null;)Wd(t,e,r),r=r.sibling}function Wd(t,e,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(ui,r)}catch{}switch(r.tag){case 5:ge||Pr(r,e);case 6:var n=ae,s=Ge;ae=null,St(t,e,r),ae=n,Ge=s,ae!==null&&(Ge?(t=ae,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ae.removeChild(r.stateNode));break;case 18:ae!==null&&(Ge?(t=ae,r=r.stateNode,t.nodeType===8?Qi(t.parentNode,r):t.nodeType===1&&Qi(t,r),In(t)):Qi(ae,r.stateNode));break;case 4:n=ae,s=Ge,ae=r.stateNode.containerInfo,Ge=!0,St(t,e,r),ae=n,Ge=s;break;case 0:case 11:case 14:case 15:if(!ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zo(r,e,o),s=s.next}while(s!==n)}St(t,e,r);break;case 1:if(!ge&&(Pr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Y(r,e,l)}St(t,e,r);break;case 21:St(t,e,r);break;case 22:r.mode&1?(ge=(n=ge)||r.memoizedState!==null,St(t,e,r),ge=n):St(t,e,r);break;default:St(t,e,r)}}function yu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Yp),e.forEach(function(n){var s=lg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ae=l.stateNode,Ge=!1;break e;case 3:ae=l.stateNode.containerInfo,Ge=!0;break e;case 4:ae=l.stateNode.containerInfo,Ge=!0;break e}l=l.return}if(ae===null)throw Error(x(160));Wd(i,o,s),ae=null,Ge=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Y(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qd(e,t),e=e.sibling}function qd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qe(e,t),rt(t),n&4){try{Sn(3,t,t.return),yi(3,t)}catch(v){Y(t,t.return,v)}try{Sn(5,t,t.return)}catch(v){Y(t,t.return,v)}}break;case 1:qe(e,t),rt(t),n&512&&r!==null&&Pr(r,r.return);break;case 5:if(qe(e,t),rt(t),n&512&&r!==null&&Pr(r,r.return),t.flags&32){var s=t.stateNode;try{Nn(s,"")}catch(v){Y(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&pc(s,i),Co(l,o);var u=Co(l,i);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?wc(s,d):c==="dangerouslySetInnerHTML"?yc(s,d):c==="children"?Nn(s,d):xl(s,c,d,u)}switch(l){case"input":So(s,i);break;case"textarea":gc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Rr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Rr(s,!!i.multiple,i.defaultValue,!0):Rr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dn]=i}catch(v){Y(t,t.return,v)}}break;case 6:if(qe(e,t),rt(t),n&4){if(t.stateNode===null)throw Error(x(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Y(t,t.return,v)}}break;case 3:if(qe(e,t),rt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{In(e.containerInfo)}catch(v){Y(t,t.return,v)}break;case 4:qe(e,t),rt(t);break;case 13:qe(e,t),rt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ta=X())),n&4&&yu(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ge=(u=ge)||c,qe(e,t),ge=u):qe(e,t),rt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(T=t,c=t.child;c!==null;){for(d=T=c;T!==null;){switch(f=T,y=f.child,f.tag){case 0:case 11:case 14:case 15:Sn(4,f,f.return);break;case 1:Pr(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Y(n,r,v)}}break;case 5:Pr(f,f.return);break;case 22:if(f.memoizedState!==null){wu(d);continue}}y!==null?(y.return=f,T=y):wu(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=vc("display",o))}catch(v){Y(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Y(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qe(e,t),rt(t),n&4&&yu(t);break;case 21:break;default:qe(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Vd(r)){var n=r;break e}r=r.return}throw Error(x(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Nn(s,""),n.flags&=-33);var i=mu(t);rl(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=mu(t);tl(t,l,o);break;default:throw Error(x(161))}}catch(a){Y(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zp(t,e,r){T=t,Kd(t)}function Kd(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||gs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ge;l=gs;var u=ge;if(gs=o,(ge=a)&&!u)for(T=s;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?_u(s):a!==null?(a.return=o,T=a):_u(s);for(;i!==null;)T=i,Kd(i),i=i.sibling;T=s,gs=l,ge=u}vu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):vu(t)}}function vu(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||yi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ge)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Qe(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ru(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ru(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&In(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}ge||e.flags&512&&el(e)}catch(f){Y(e,e.return,f)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function wu(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function _u(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yi(4,e)}catch(a){Y(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(a){Y(e,s,a)}}var i=e.return;try{el(e)}catch(a){Y(e,i,a)}break;case 5:var o=e.return;try{el(e)}catch(a){Y(e,o,a)}}}catch(a){Y(e,e.return,a)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var eg=Math.ceil,ei=vt.ReactCurrentDispatcher,Zl=vt.ReactCurrentOwner,Be=vt.ReactCurrentBatchConfig,D=0,le=null,ee=null,ue=0,Re=0,Nr=Bt(0),ne=0,Wn=null,lr=0,vi=0,ea=0,xn=null,ke=null,ta=0,Vr=1/0,at=null,ti=!1,nl=null,Lt=null,ms=!1,Nt=null,ri=0,kn=0,sl=null,$s=-1,Os=0;function ve(){return D&6?X():$s!==-1?$s:$s=X()}function Ut(t){return t.mode&1?D&2&&ue!==0?ue&-ue:Up.transition!==null?(Os===0&&(Os=Rc()),Os):(t=F,t!==0||(t=window.event,t=t===void 0?16:Mc(t.type)),t):1}function Ze(t,e,r,n){if(50<kn)throw kn=0,sl=null,Error(x(185));Qn(t,r,n),(!(D&2)||t!==le)&&(t===le&&(!(D&2)&&(vi|=r),ne===4&&jt(t,ue)),Te(t,n),r===1&&D===0&&!(e.mode&1)&&(Vr=X()+500,pi&&Ht()))}function Te(t,e){var r=t.callbackNode;Uh(t,e);var n=Ds(t,t===le?ue:0);if(n===0)r!==null&&Pa(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Pa(r),e===1)t.tag===0?Lp(Su.bind(null,t)):nd(Su.bind(null,t)),$p(function(){!(D&6)&&Ht()}),r=null;else{switch($c(n)){case 1:r=jl;break;case 4:r=Pc;break;case 16:r=Ms;break;case 536870912:r=Nc;break;default:r=Ms}r=tf(r,Qd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Qd(t,e){if($s=-1,Os=0,D&6)throw Error(x(327));var r=t.callbackNode;if(Lr()&&t.callbackNode!==r)return null;var n=Ds(t,t===le?ue:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ni(t,n);else{e=n;var s=D;D|=2;var i=Jd();(le!==t||ue!==e)&&(at=null,Vr=X()+500,tr(t,e));do try{ng();break}catch(l){Gd(t,l)}while(!0);Fl(),ei.current=i,D=s,ee!==null?e=0:(le=null,ue=0,e=ne)}if(e!==0){if(e===2&&(s=Ro(t),s!==0&&(n=s,e=il(t,s))),e===1)throw r=Wn,tr(t,0),jt(t,n),Te(t,X()),r;if(e===6)jt(t,n);else{if(s=t.current.alternate,!(n&30)&&!tg(s)&&(e=ni(t,n),e===2&&(i=Ro(t),i!==0&&(n=i,e=il(t,i))),e===1))throw r=Wn,tr(t,0),jt(t,n),Te(t,X()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(x(345));case 2:Gt(t,ke,at);break;case 3:if(jt(t,n),(n&130023424)===n&&(e=ta+500-X(),10<e)){if(Ds(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Do(Gt.bind(null,t,ke,at),e);break}Gt(t,ke,at);break;case 4:if(jt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Xe(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=X()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eg(n/1960))-n,10<n){t.timeoutHandle=Do(Gt.bind(null,t,ke,at),n);break}Gt(t,ke,at);break;case 5:Gt(t,ke,at);break;default:throw Error(x(329))}}}return Te(t,X()),t.callbackNode===r?Qd.bind(null,t):null}function il(t,e){var r=xn;return t.current.memoizedState.isDehydrated&&(tr(t,e).flags|=256),t=ni(t,e),t!==2&&(e=ke,ke=r,e!==null&&ol(e)),t}function ol(t){ke===null?ke=t:ke.push.apply(ke,t)}function tg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jt(t,e){for(e&=~ea,e&=~vi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xe(e),n=1<<r;t[r]=-1,e&=~n}}function Su(t){if(D&6)throw Error(x(327));Lr();var e=Ds(t,0);if(!(e&1))return Te(t,X()),null;var r=ni(t,e);if(t.tag!==0&&r===2){var n=Ro(t);n!==0&&(e=n,r=il(t,n))}if(r===1)throw r=Wn,tr(t,0),jt(t,e),Te(t,X()),r;if(r===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,ke,at),Te(t,X()),null}function ra(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Vr=X()+500,pi&&Ht())}}function ar(t){Nt!==null&&Nt.tag===0&&!(D&6)&&Lr();var e=D;D|=1;var r=Be.transition,n=F;try{if(Be.transition=null,F=1,t)return t()}finally{F=n,Be.transition=r,D=e,!(D&6)&&Ht()}}function na(){Re=Nr.current,W(Nr)}function tr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Rp(r)),ee!==null)for(r=ee.return;r!==null;){var n=r;switch(Ul(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vs();break;case 3:Br(),W(Ce),W(me),ql();break;case 5:Wl(n);break;case 4:Br();break;case 13:W(Q);break;case 19:W(Q);break;case 10:zl(n.type._context);break;case 22:case 23:na()}r=r.return}if(le=t,ee=t=Mt(t.current,null),ue=Re=e,ne=0,Wn=null,ea=vi=lr=0,ke=xn=null,Zt!==null){for(e=0;e<Zt.length;e++)if(r=Zt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Zt=null}return t}function Gd(t,e){do{var r=ee;try{if(Fl(),Ps.current=Zs,Xs){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xs=!1}if(or=0,oe=re=G=null,_n=!1,Bn=0,Zl.current=null,r===null||r.return===null){ne=1,Wn=e,ee=null;break}e:{var i=t,o=r.return,l=r,a=e;if(e=ue,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=au(o);if(y!==null){y.flags&=-257,uu(y,o,l,i,e),y.mode&1&&lu(i,u,e),e=y,a=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(a),e.updateQueue=v}else _.add(a);break e}else{if(!(e&1)){lu(i,u,e),sa();break e}a=Error(x(426))}}else if(q&&l.mode&1){var b=au(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),uu(b,o,l,i,e),Ml(Hr(a,l));break e}}i=a=Hr(a,l),ne!==4&&(ne=2),xn===null?xn=[i]:xn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=$d(i,a,e);tu(i,m);break e;case 1:l=a;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Lt===null||!Lt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Od(i,l,e);tu(i,w);break e}}i=i.return}while(i!==null)}Xd(r)}catch(k){e=k,ee===r&&r!==null&&(ee=r=r.return);continue}break}while(!0)}function Jd(){var t=ei.current;return ei.current=Zs,t===null?Zs:t}function sa(){(ne===0||ne===3||ne===2)&&(ne=4),le===null||!(lr&268435455)&&!(vi&268435455)||jt(le,ue)}function ni(t,e){var r=D;D|=2;var n=Jd();(le!==t||ue!==e)&&(at=null,tr(t,e));do try{rg();break}catch(s){Gd(t,s)}while(!0);if(Fl(),D=r,ei.current=n,ee!==null)throw Error(x(261));return le=null,ue=0,ne}function rg(){for(;ee!==null;)Yd(ee)}function ng(){for(;ee!==null&&!Th();)Yd(ee)}function Yd(t){var e=ef(t.alternate,t,Re);t.memoizedProps=t.pendingProps,e===null?Xd(t):ee=e,Zl.current=null}function Xd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Jp(r,e),r!==null){r.flags&=32767,ee=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,ee=null;return}}else if(r=Gp(r,e,Re),r!==null){ee=r;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);ne===0&&(ne=5)}function Gt(t,e,r){var n=F,s=Be.transition;try{Be.transition=null,F=1,sg(t,e,r,n)}finally{Be.transition=s,F=n}return null}function sg(t,e,r,n){do Lr();while(Nt!==null);if(D&6)throw Error(x(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Mh(t,i),t===le&&(ee=le=null,ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ms||(ms=!0,tf(Ms,function(){return Lr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var o=F;F=1;var l=D;D|=4,Zl.current=null,Xp(t,r),qd(r,t),Ep(Uo),Fs=!!Lo,Uo=Lo=null,t.current=r,Zp(r),Ph(),D=l,F=o,Be.transition=i}else t.current=r;if(ms&&(ms=!1,Nt=t,ri=s),i=t.pendingLanes,i===0&&(Lt=null),$h(r.stateNode),Te(t,X()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ti)throw ti=!1,t=nl,nl=null,t;return ri&1&&t.tag!==0&&Lr(),i=t.pendingLanes,i&1?t===sl?kn++:(kn=0,sl=t):kn=0,Ht(),null}function Lr(){if(Nt!==null){var t=$c(ri),e=Be.transition,r=F;try{if(Be.transition=null,F=16>t?16:t,Nt===null)var n=!1;else{if(t=Nt,Nt=null,ri=0,D&6)throw Error(x(331));var s=D;for(D|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:Sn(8,c,i)}var d=c.child;if(d!==null)d.return=c,T=d;else for(;T!==null;){c=T;var f=c.sibling,y=c.return;if(Hd(c),c===u){T=null;break}if(f!==null){f.return=y,T=f;break}T=y}}}var _=i.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yi(9,l)}}catch(k){Y(l,l.return,k)}if(l===o){T=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,T=w;break e}T=l.return}}if(D=s,Ht(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(ui,t)}catch{}n=!0}return n}finally{F=r,Be.transition=e}}return!1}function xu(t,e,r){e=Hr(r,e),e=$d(t,e,1),t=At(t,e,1),e=ve(),t!==null&&(Qn(t,1,e),Te(t,e))}function Y(t,e,r){if(t.tag===3)xu(t,t,r);else for(;e!==null;){if(e.tag===3){xu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lt===null||!Lt.has(n))){t=Hr(r,t),t=Od(e,t,1),e=At(e,t,1),t=ve(),e!==null&&(Qn(e,1,t),Te(e,t));break}}e=e.return}}function ig(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ve(),t.pingedLanes|=t.suspendedLanes&r,le===t&&(ue&r)===r&&(ne===4||ne===3&&(ue&130023424)===ue&&500>X()-ta?tr(t,0):ea|=r),Te(t,e)}function Zd(t,e){e===0&&(t.mode&1?(e=os,os<<=1,!(os&130023424)&&(os=4194304)):e=1);var r=ve();t=mt(t,e),t!==null&&(Qn(t,e,r),Te(t,r))}function og(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Zd(t,r)}function lg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(x(314))}n!==null&&n.delete(e),Zd(t,r)}var ef;ef=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ce.current)be=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return be=!1,Qp(t,e,r);be=!!(t.flags&131072)}else be=!1,q&&e.flags&1048576&&sd(e,Ks,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rs(t,e),t=e.pendingProps;var s=Dr(e,me.current);Ar(e,r),s=Ql(null,e,n,t,s,r);var i=Gl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(n)?(i=!0,Ws(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hl(e),s.updater=mi,e.stateNode=s,s._reactInternals=e,qo(e,n,t,r),e=Go(null,e,n,!0,i,r)):(e.tag=0,q&&i&&Ll(e),ye(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ug(n),t=Qe(n,t),s){case 0:e=Qo(null,e,n,t,r);break e;case 1:e=fu(null,e,n,t,r);break e;case 11:e=cu(null,e,n,t,r);break e;case 14:e=du(null,e,n,Qe(n.type,t),r);break e}throw Error(x(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qe(n,s),Qo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qe(n,s),fu(t,e,n,s,r);case 3:e:{if(Ud(e),t===null)throw Error(x(387));n=e.pendingProps,i=e.memoizedState,s=i.element,cd(t,e),Js(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Hr(Error(x(423)),e),e=hu(t,e,n,r,s);break e}else if(n!==s){s=Hr(Error(x(424)),e),e=hu(t,e,n,r,s);break e}else for($e=It(e.stateNode.containerInfo.firstChild),Oe=e,q=!0,Ye=null,r=ad(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fr(),n===s){e=yt(t,e,r);break e}ye(t,e,n,r)}e=e.child}return e;case 5:return dd(e),t===null&&Ho(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Mo(n,s)?o=null:i!==null&&Mo(n,i)&&(e.flags|=32),Ld(t,e),ye(t,e,o,r),e.child;case 6:return t===null&&Ho(e),null;case 13:return Md(t,e,r);case 4:return Vl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=zr(e,null,n,r):ye(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qe(n,s),cu(t,e,n,s,r);case 7:return ye(t,e,e.pendingProps,r),e.child;case 8:return ye(t,e,e.pendingProps.children,r),e.child;case 12:return ye(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,H(Qs,n._currentValue),n._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Ce.current){e=yt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=ht(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Vo(i.return,r,e),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(x(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Vo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ye(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ar(e,r),s=Ve(s),n=n(s),e.flags|=1,ye(t,e,n,r),e.child;case 14:return n=e.type,s=Qe(n,e.pendingProps),s=Qe(n.type,s),du(t,e,n,s,r);case 15:return Id(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qe(n,s),Rs(t,e),e.tag=1,je(n)?(t=!0,Ws(e)):t=!1,Ar(e,r),Rd(e,n,s),qo(e,n,s,r),Go(null,e,n,!0,t,r);case 19:return Dd(t,e,r);case 22:return Ad(t,e,r)}throw Error(x(156,e.tag))};function tf(t,e){return Tc(t,e)}function ag(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(t,e,r,n){return new ag(t,e,r,n)}function ia(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ug(t){if(typeof t=="function")return ia(t)?1:0;if(t!=null){if(t=t.$$typeof,t===El)return 11;if(t===bl)return 14}return 2}function Mt(t,e){var r=t.alternate;return r===null?(r=ze(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Is(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")ia(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _r:return rr(r.children,s,i,e);case kl:o=8,s|=8;break;case mo:return t=ze(12,r,e,s|2),t.elementType=mo,t.lanes=i,t;case yo:return t=ze(13,r,e,s),t.elementType=yo,t.lanes=i,t;case vo:return t=ze(19,r,e,s),t.elementType=vo,t.lanes=i,t;case dc:return wi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uc:o=10;break e;case cc:o=9;break e;case El:o=11;break e;case bl:o=14;break e;case kt:o=16,n=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=ze(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function rr(t,e,r,n){return t=ze(7,t,n,e),t.lanes=r,t}function wi(t,e,r,n){return t=ze(22,t,n,e),t.elementType=dc,t.lanes=r,t.stateNode={isHidden:!1},t}function ro(t,e,r){return t=ze(6,t,null,e),t.lanes=r,t}function no(t,e,r){return e=ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function oa(t,e,r,n,s,i,o,l,a){return t=new cg(t,e,r,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ze(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(i),t}function dg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function rf(t){if(!t)return Ft;t=t._reactInternals;e:{if(cr(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var r=t.type;if(je(r))return rd(t,r,e)}return e}function nf(t,e,r,n,s,i,o,l,a){return t=oa(r,n,!0,t,s,i,o,l,a),t.context=rf(null),r=t.current,n=ve(),s=Ut(r),i=ht(n,s),i.callback=e??null,At(r,i,s),t.current.lanes=s,Qn(t,s,n),Te(t,n),t}function _i(t,e,r,n){var s=e.current,i=ve(),o=Ut(s);return r=rf(r),e.context===null?e.context=r:e.pendingContext=r,e=ht(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=At(s,e,o),t!==null&&(Ze(t,s,o,i),Ts(t,s,o)),o}function si(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ku(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function la(t,e){ku(t,e),(t=t.alternate)&&ku(t,e)}function fg(){return null}var sf=typeof reportError=="function"?reportError:function(t){console.error(t)};function aa(t){this._internalRoot=t}Si.prototype.render=aa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));_i(t,e,null,null)};Si.prototype.unmount=aa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ar(function(){_i(null,t,null,null)}),e[gt]=null}};function Si(t){this._internalRoot=t}Si.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ac();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ct.length&&e!==0&&e<Ct[r].priority;r++);Ct.splice(r,0,t),r===0&&Uc(t)}};function ua(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Eu(){}function hg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=si(o);i.call(u)}}var o=nf(e,n,t,0,null,!1,!1,"",Eu);return t._reactRootContainer=o,t[gt]=o.current,Un(t.nodeType===8?t.parentNode:t),ar(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=si(a);l.call(u)}}var a=oa(t,0,!1,null,null,!1,!1,"",Eu);return t._reactRootContainer=a,t[gt]=a.current,Un(t.nodeType===8?t.parentNode:t),ar(function(){_i(e,a,r,n)}),a}function ki(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=si(o);l.call(a)}}_i(e,o,t,s)}else o=hg(r,e,t,s,n);return si(o)}Oc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fn(e.pendingLanes);r!==0&&(Tl(e,r|1),Te(e,X()),!(D&6)&&(Vr=X()+500,Ht()))}break;case 13:ar(function(){var n=mt(t,1);if(n!==null){var s=ve();Ze(n,t,1,s)}}),la(t,1)}};Pl=function(t){if(t.tag===13){var e=mt(t,134217728);if(e!==null){var r=ve();Ze(e,t,134217728,r)}la(t,134217728)}};Ic=function(t){if(t.tag===13){var e=Ut(t),r=mt(t,e);if(r!==null){var n=ve();Ze(r,t,e,n)}la(t,e)}};Ac=function(){return F};Lc=function(t,e){var r=F;try{return F=t,e()}finally{F=r}};To=function(t,e,r){switch(e){case"input":if(So(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=hi(n);if(!s)throw Error(x(90));hc(n),So(n,s)}}}break;case"textarea":gc(t,r);break;case"select":e=r.value,e!=null&&Rr(t,!!r.multiple,e,!1)}};xc=ra;kc=ar;var pg={usingClientEntryPoint:!1,Events:[Jn,Er,hi,_c,Sc,ra]},an={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gg={bundleType:an.bundleType,version:an.version,rendererPackageName:an.rendererPackageName,rendererConfig:an.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cc(t),t===null?null:t.stateNode},findFiberByHostInstance:an.findFiberByHostInstance||fg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{ui=ys.inject(gg),it=ys}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pg;Ae.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ua(e))throw Error(x(200));return dg(t,e,null,r)};Ae.createRoot=function(t,e){if(!ua(t))throw Error(x(299));var r=!1,n="",s=sf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=oa(t,1,!1,null,null,r,!1,n,s),t[gt]=e.current,Un(t.nodeType===8?t.parentNode:t),new aa(e)};Ae.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Cc(e),t=t===null?null:t.stateNode,t};Ae.flushSync=function(t){return ar(t)};Ae.hydrate=function(t,e,r){if(!xi(e))throw Error(x(200));return ki(null,t,e,!0,r)};Ae.hydrateRoot=function(t,e,r){if(!ua(t))throw Error(x(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=sf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=nf(e,null,t,1,r??null,s,!1,i,o),t[gt]=e.current,Un(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Si(e)};Ae.render=function(t,e,r){if(!xi(e))throw Error(x(200));return ki(null,t,e,!1,r)};Ae.unmountComponentAtNode=function(t){if(!xi(t))throw Error(x(40));return t._reactRootContainer?(ar(function(){ki(null,null,t,!1,function(){t._reactRootContainer=null,t[gt]=null})}),!0):!1};Ae.unstable_batchedUpdates=ra;Ae.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!xi(r))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return ki(t,e,r,!1,n)};Ae.version="18.3.1-next-f1338f8080-20240426";function of(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(of)}catch(t){console.error(t)}}of(),ic.exports=Ae;var mg=ic.exports,bu=mg;po.createRoot=bu.createRoot,po.hydrateRoot=bu.hydrateRoot;const yg="modulepreload",vg=function(t){return"/"+t},Cu={},Gr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(a=>{if(a=vg(a),a in Cu)return;Cu[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":yg,u||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,y)=>{d.addEventListener("load",f),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ue=(t,e)=>{const r=M.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>M.createElement("svg",{ref:c,...wg,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${_g(t)}`,l].join(" "),...u},[...e.map(([d,f])=>M.createElement(d,f)),...Array.isArray(a)?a:[a]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Ue("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Ue("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Ue("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Rg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gr(async()=>{const{default:n}=await Promise.resolve().then(()=>Jr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ca extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class $g extends ca{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ju extends ca{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tu extends ca{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ll;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ll||(ll={}));var Og=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(d){o(d)}}function a(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class Ig{constructor(e,{headers:r={},customFetch:n,region:s=ll.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Rg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Og(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(v=>{throw new $g(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ju(d);if(!d.ok)throw new Tu(d);let y=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield d.json():y==="application/octet-stream"?_=yield d.blob():y==="text/event-stream"?_=d:y==="multipart/form-data"?_=yield d.formData():_=yield d.text(),{data:_,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Tu||s instanceof ju?s.context:void 0}}})}}var Ee={},da={},Ei={},Xn={},bi={},Ci={},Ag=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wr=Ag();const Lg=Wr.fetch,cf=Wr.fetch.bind(Wr),df=Wr.Headers,Ug=Wr.Request,Mg=Wr.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:df,Request:Ug,Response:Mg,default:cf,fetch:Lg},Symbol.toStringTag,{value:"Module"})),Dg=Hf(Jr);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});let Fg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ji.default=Fg;var ff=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const zg=ff(Dg),Bg=ff(ji);let Hg=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,c=null,d=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,y="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,y="OK")}catch{i.status===404&&v===""?(f=204,y="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new Bg.default(u)}return{error:u,data:c,count:d,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ci.default=Hg;var Vg=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});const Wg=Vg(Ci);let qg=class extends Wg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bi.default=qg;var Kg=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xn,"__esModule",{value:!0});const Qg=Kg(bi);let Gg=class extends Qg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Xn.default=Gg;var Jg=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const un=Jg(Xn);let Yg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new un.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new un.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new un.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ei.default=Yg;var Ti={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.version=void 0;Pi.version="0.0.0-automated";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.DEFAULT_HEADERS=void 0;const Xg=Pi;Ti.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Xg.version}`};var hf=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});const Zg=hf(Ei),em=hf(Xn),tm=Ti;let rm=class pf{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},tm.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Zg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new pf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{l.searchParams.append(c,d)})):(o="POST",a=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new em.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};da.default=rm;var Yr=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const gf=Yr(da);Ee.PostgrestClient=gf.default;const mf=Yr(Ei);Ee.PostgrestQueryBuilder=mf.default;const yf=Yr(Xn);Ee.PostgrestFilterBuilder=yf.default;const vf=Yr(bi);Ee.PostgrestTransformBuilder=vf.default;const wf=Yr(Ci);Ee.PostgrestBuilder=wf.default;const _f=Yr(ji);Ee.PostgrestError=_f.default;var nm=Ee.default={PostgrestClient:gf.default,PostgrestQueryBuilder:mf.default,PostgrestFilterBuilder:yf.default,PostgrestTransformBuilder:vf.default,PostgrestBuilder:wf.default,PostgrestError:_f.default};const{PostgrestClient:sm,PostgrestQueryBuilder:vy,PostgrestFilterBuilder:wy,PostgrestTransformBuilder:_y,PostgrestBuilder:Sy,PostgrestError:xy}=nm;function im(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const om=im(),lm="2.11.15",am=`realtime-js/${lm}`,um="1.0.0",Sf=1e4,cm=1e3;var En;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(En||(En={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var al;(function(t){t.websocket="websocket"})(al||(al={}));var Yt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yt||(Yt={}));class dm{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const a=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class xf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const Pu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=fm(o,t,e,s),i),{})},fm=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?kf(i,o):ul(o)},kf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mm(e,r)}switch(t){case B.bool:return hm(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return pm(e);case B.json:case B.jsonb:return gm(e);case B.timestamp:return ym(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return ul(e);default:return ul(e)}},ul=t=>t,hm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mm=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>kf(e,l))}return t},ym=t=>typeof t=="string"?t.replace(" ","T"):t,Ef=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class so{constructor(e,r,n={},s=Sf){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nu||(Nu={}));class bn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=bn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(b=>b.presence_ref),y=d.map(b=>b.presence_ref),_=c.filter(b=>y.indexOf(b.presence_ref)<0),v=d.filter(b=>f.indexOf(b.presence_ref)<0);_.length>0&&(l[u]=_),v.length>0&&(a[u]=v)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(y=>y.presence_ref),f=c.filter(y=>d.indexOf(y.presence_ref)<0);e[l].unshift(...f)}n(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ru;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ru||(Ru={}));var $u;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($u||($u={}));var ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));class fa{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,Je.join,this.params,this.timeout),this.rejoinTimer=new xf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new bn(this),this.broadcastEndpointURL=Ef(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(c=>e==null?void 0:e(ut.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(ut.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(ut.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,_=[];for(let v=0;v<y;v++){const b=f[v],{filter:{event:m,schema:p,table:g,filter:w}}=b,k=c&&c[v];if(k&&k.event===m&&k.schema===p&&k.table===g&&k.filter===w)_.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ut.SUBSCRIBED);return}}).receive("error",c=>{this.state=pe.errored,e==null||e(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new so(this,Je.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new so(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=Je;if(n&&[l,a,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var _,v,b;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(v=y.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var _,v,b,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,k=(_=y.filter)===null||_===void 0?void 0:_.event;return w&&((v=r.ids)===null||v===void 0?void 0:v.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:v,table:b,commit_timestamp:m,type:p,errors:g}=_;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(_))}y.callback(f,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&fa.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Pu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Pu(e.columns,e.old_record)),r}}const Ou=()=>{},vm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wm{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ou,this.ref=0,this.logger=Ou,this.conn=null,this.sendBuffer=[],this.serializer=new dm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Gr(async()=>{const{default:a}=await Promise.resolve().then(()=>Jr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${al.websocket}`,this.httpEndpoint=Ef(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=om),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:um}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case En.connecting:return Yt.Connecting;case En.open:return Yt.Open;case En.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new fa(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:am};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Je.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(cm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([vm],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ha extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _m extends ha{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cl extends ha{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Sm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(d){o(d)}}function a(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const bf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gr(async()=>{const{default:n}=await Promise.resolve().then(()=>Jr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},xm=()=>Sm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gr(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),dl=t=>{if(Array.isArray(t))return t.map(r=>dl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=dl(n)}),e};var dr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(d){o(d)}}function a(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const io=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),km=(t,e,r)=>dr(void 0,void 0,void 0,function*(){const n=yield xm();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new _m(io(s),t.status||500))}).catch(s=>{e(new cl(io(s),s))}):e(new cl(io(t),t))}),Em=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Zn(t,e,r,n,s,i){return dr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Em(e,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>km(a,l,n))})})}function ii(t,e,r,n){return dr(this,void 0,void 0,function*(){return Zn(t,"GET",e,r,n)})}function bt(t,e,r,n,s){return dr(this,void 0,void 0,function*(){return Zn(t,"POST",e,n,s,r)})}function bm(t,e,r,n,s){return dr(this,void 0,void 0,function*(){return Zn(t,"PUT",e,n,s,r)})}function Cm(t,e,r,n){return dr(this,void 0,void 0,function*(){return Zn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Cf(t,e,r,n,s){return dr(this,void 0,void 0,function*(){return Zn(t,"DELETE",e,n,s,r)})}var xe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(d){o(d)}}function a(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const jm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tm{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=bf(s)}uploadOrUpdate(e,r,n,s){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Iu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ie(i))return{data:null,error:i};throw i}})}upload(e,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const u=Object.assign({upsert:Iu.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl)):(a=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ie(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,r){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ha("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}update(e,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}copy(e,r,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return xe(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}download(e,r){return xe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ii(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}info(e){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ii(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dl(n),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}exists(e){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Cm(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ie(n)&&n instanceof cl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}list(e,r,n){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},jm),r),{prefix:e||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Pm="2.7.1",Nm={"X-Client-Info":`storage-js/${Pm}`};var pr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(d){o(d)}}function a(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class Rm{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Nm),r),this.fetch=bf(n)}listBuckets(){return pr(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ie(e))return{data:null,error:e};throw e}})}getBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return pr(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return pr(this,void 0,void 0,function*(){try{return{data:yield bm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}emptyBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}deleteBucket(e){return pr(this,void 0,void 0,function*(){try{return{data:yield Cf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}}class $m extends Rm{constructor(e,r={},n){super(e,r,n)}from(e){return new Tm(this.url,this.headers,e,this.fetch)}}const Om="2.50.5";let pn="";typeof Deno<"u"?pn="deno":typeof document<"u"?pn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pn="react-native":pn="node";const Im={"X-Client-Info":`supabase-js-${pn}/${Om}`},Am={headers:Im},Lm={schema:"public"},Um={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mm={};var Dm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(d){o(d)}}function a(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const Fm=t=>{let e;return t?e=t:typeof fetch>"u"?e=cf:e=fetch,(...r)=>e(...r)},zm=()=>typeof Headers>"u"?df:Headers,Bm=(t,e,r)=>{const n=Fm(r),s=zm();return(i,o)=>Dm(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Hm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(d){o(d)}}function a(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};function Vm(t){return t.endsWith("/")?t:t+"/"}function Wm(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Hm(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const jf="2.70.0",vr=30*1e3,fl=3,oo=fl*vr,qm="http://localhost:9999",Km="supabase.auth.token",Qm={"X-Client-Info":`gotrue-js/${jf}`},hl="X-Supabase-Api-Version",Tf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jm=6e5;class pa extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ym extends pa{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Xm(t){return I(t)&&t.name==="AuthApiError"}class Pf extends pa{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Vt extends pa{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class xt extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zm(t){return I(t)&&t.name==="AuthSessionMissingError"}class vs extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ws extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _s extends Vt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e0(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Au extends Vt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pl extends Vt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function lo(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Lu extends Vt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Cn extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),t0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=-2;for(let e=0;e<oi.length;e+=1)t[oi[e].charCodeAt(0)]=e;return t})();function Mu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(oi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(oi[n]),e.queuedBits-=6}}function Nf(t,e,r){const n=t0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Du(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{s0(o,n,r)};for(let o=0;o<t.length;o+=1)Nf(t.charCodeAt(o),s,i);return e.join("")}function r0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}r0(n,e)}}function s0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function i0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Nf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function o0(t){const e=[];return n0(t,r=>e.push(r)),new Uint8Array(e)}function l0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Mu(s,r,n)),Mu(null,r,n),e.join("")}function a0(t){return Math.round(Date.now()/1e3)+t}function u0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",qt={tested:!1,writable:!1},jn=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qt.tested)return qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qt.tested=!0,qt.writable=!0}catch{qt.tested=!0,qt.writable=!1}return qt.writable};function c0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Rf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gr(async()=>{const{default:n}=await Promise.resolve().then(()=>Jr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},d0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$f=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ss=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xs=async(t,e)=>{await t.removeItem(e)};class Ni{constructor(){this.promise=new Ni.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ni.promiseConstructor=Promise;function ao(t){const e=t.split(".");if(e.length!==3)throw new Cn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Gm.test(e[n]))throw new Cn("JWT not in base64url format");return{header:JSON.parse(Du(e[0])),payload:JSON.parse(Du(e[1])),signature:i0(e[2]),raw:{header:e[0],payload:e[1]}}}async function f0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function h0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function p0(t){return("0"+t.toString(16)).substr(-2)}function g0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,p0).join("")}async function m0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function y0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await m0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gr(t,e,r=!1){const n=g0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $f(t,`${e}-code-verifier`,s);const i=await y0(n);return[i,n===i?"plain":"s256"]}const v0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function w0(t){const e=t.headers.get(hl);if(!e||!e.match(v0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function S0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mr(t){if(!x0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var k0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E0=[502,503,504];async function Fu(t){var e;if(!d0(t))throw new pl(Jt(t),0);if(E0.includes(t.status))throw new pl(Jt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Pf(Jt(i),i)}let n;const s=w0(t);if(s&&s.getTime()>=Tf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lu(Jt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lu(Jt(r),t.status,r.weak_password.reasons);throw new Ym(Jt(r),t.status||500,n)}const b0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[hl]||(i[hl]=Tf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await C0(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function C0(t,e,r,n,s,i){const o=b0(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(a){throw console.error(a),new pl(Jt(a),0)}if(l.ok||await Fu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await Fu(a)}}function lt(t){var e;let r=null;N0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=a0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function zu(t){const e=lt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function j0(t){return{data:t,error:null}}function T0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=k0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function P0(t){return t}function N0(t){return t.access_token&&t.refresh_token&&t.expires_in}const uo=["global","local","others"];var R0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class $0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Rf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=uo[0]){if(uo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uo.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=R0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:T0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:P0});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(_=>{const v=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){mr(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){mr(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){mr(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){mr(e.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){mr(e.userId),mr(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}const O0={getItem:t=>jn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{jn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{jn()&&globalThis.localStorage.removeItem(t)}};function Bu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function I0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yr={debug:!!(globalThis&&jn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Of extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class A0 extends Of{}async function L0(t,e,r){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new A0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}I0();const U0={url:qm,storageKey:Km,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hu(t,e,r){return await r()}class qn{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qn.nextInstanceID,qn.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},U0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rf(s.fetch),this.lock=s.lock||Hu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=L0:this.lock=Hu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:jn()?this.storage=O0:(this.memoryStorage={},this.storage=Bu(this.memoryStorage)):(this.memoryStorage={},this.storage=Bu(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=c0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),e0(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new Pf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:lt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:d,options:f}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await gr(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:_},xform:lt})}else if("phone"in e){const{phone:c,password:d,options:f}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:lt})}else throw new ws("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zu})}else throw new ws("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,a,u,c,d,f,y;let _,v;if("message"in e)_=e.message,v=e.signature;else{const{chain:b,wallet:m,statement:p,options:g}=e;let w;if(Ke())if(typeof m=="object")w=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const k=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let C;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")C=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)C=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)_=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(_),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:b,error:m}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:l0(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:lt});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new vs}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(I(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:lt});if(await xs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new vs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:lt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new vs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await gr(this.storage,this.storageKey));const{error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ws("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:lt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await gr(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:j0})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new xt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ws("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<oo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(r){if(I(r))return Zm(r)&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new xt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await gr(this.storage,this.storageKey));const{data:u,error:c}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Tt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ao(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new xt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ke())throw new _s("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _s(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Au("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _s("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Au("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new _s("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let f=c+d;a&&(f=parseInt(a));const y=f-c;y*1e3<=vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${d}s`);const _=f-d;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,c);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Xm(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=u0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await gr(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:d,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ke()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await h0(async s=>(s>0&&await f0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lo(i)&&Date.now()+o-n<vr})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ss(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<oo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${oo}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),lo(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ni;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return lo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $f(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await xs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vr}ms, refresh threshold is ${fl} ticks`),s<=fl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Of)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await gr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ao(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Jm>Date.now()))return n;const{data:s,error:i}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Cn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new Cn("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:y,error:_}=await this.getSession();if(_||!y.session)return{data:null,error:_};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=ao(n);if(_0(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=S0(s.alg),c=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,o0(`${l}.${a}`)))throw new Cn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}qn.nextInstanceID=0;const M0=qn;class D0 extends M0{constructor(e){super(e)}}var F0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(d){o(d)}}function a(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class z0{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Vm(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Lm,realtime:Mm,auth:Object.assign(Object.assign({},Um),{storageKey:u}),global:Am},d=Wm(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Bm(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new sm(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ig(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $m(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return F0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D0({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new wm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const B0=(t,e,r)=>new z0(t,e,r),Ur={},co=Ur==null?void 0:Ur.VITE_SUPABASE_URL,fo=Ur==null?void 0:Ur.VITE_SUPABASE_ANON_KEY,Me=co&&fo&&co!=="https://placeholder.supabase.co"&&fo!=="placeholder-key"?B0(co,fo):null;class H0{constructor(){Ne(this,"STORAGE_KEY","vibecast_ratings");Ne(this,"PREFERENCES_KEY","vibecast_user_preferences");Ne(this,"IMPLICIT_FEEDBACK_KEY","vibecast_implicit_feedback");Ne(this,"USE_SUPABASE",!!Me);this.USE_SUPABASE?console.log(" RatingService: Using Supabase for data storage"):console.log(" RatingService: Using localStorage for data storage")}async saveRating(e){this.USE_SUPABASE?await this.saveRatingToSupabase(e):this.saveRatingToLocalStorage(e),await this.updateUserPreferences(e)}async trackImplicitFeedback(e){this.USE_SUPABASE?await this.saveImplicitFeedbackToSupabase(e):this.saveImplicitFeedbackToLocalStorage(e)}async getEpisodeRatingBonus(e,r,n){let s=0;const i=await this.getRatingData(e);if(i){i.averageRating>3.5&&(s+=(i.averageRating-3)*3);for(const l of r){const a=i.moodRatings[l];if(a&&a.count>0){const u=a.sum/a.count;s+=(u-3)*2}}for(const l of n){const a=i.themeRatings[l];if(a&&a.count>0){const u=a.sum/a.count;s+=(u-3)*2}}}const o=await this.getUserPreferences();for(const l of r)for(const a of n){const u=`${l}_${a}`,c=o.find(d=>`${d.mood}_${d.theme}`===u);c&&(s+=c.weight*4)}return Math.max(-6,Math.min(6,s))}async getImplicitFeedbackBonus(e){try{const r=localStorage.getItem("vibecast_implicit_feedback");if(!r)return 0;const s=JSON.parse(r)[e];if(!s)return 0;let i=0;if(s.completionRate>.8?i+=1.5:s.completionRate>.5&&(i+=.5),s.skipCount>0&&(i-=s.skipCount*.5),s.fastForwardCount>0&&(i-=s.fastForwardCount*.3),s.totalPlayTime>0){const o=Math.min(1,s.totalPlayTime/1800);i+=o*.5}return Math.max(-2,Math.min(2,i))}catch(r){return console.error("Error getting implicit feedback:",r),0}}async recordImplicitFeedback(e,r,n){try{const s=localStorage.getItem("vibecast_implicit_feedback")||"{}",i=JSON.parse(s);i[e]||(i[e]={skipCount:0,completionRate:0,fastForwardCount:0,totalPlayTime:0,lastUpdated:Date.now()});const o=i[e];switch(r){case"skip":o.skipCount+=1;break;case"complete":o.completionRate=n||1;break;case"fastForward":o.fastForwardCount+=1;break}o.lastUpdated=Date.now();const l=Object.keys(i);if(l.length>1e3){const u=l.sort((d,f)=>i[f].lastUpdated-i[d].lastUpdated).slice(0,1e3),c={};u.forEach(d=>{c[d]=i[d]}),localStorage.setItem("vibecast_implicit_feedback",JSON.stringify(c))}else localStorage.setItem("vibecast_implicit_feedback",JSON.stringify(i))}catch(s){console.error("Error recording implicit feedback:",s)}}async updateUserPreferences(e){const r=await this.getUserPreferences();for(const n of e.mood)for(const s of e.themes){const i=`${n}_${s}`;let o=r.find(c=>`${c.mood}_${c.theme}`===i);o||(o={mood:n,theme:s,weight:0,episodeCount:0,avgRating:3,lastUpdated:new Date().toISOString()},r.push(o));const a=Math.min(1,1/Math.max(1,o.episodeCount/5)),u=(e.rating-3)/2;o.weight=o.weight*(1-a)+u*a,o.episodeCount+=1,o.avgRating=(o.avgRating*(o.episodeCount-1)+e.rating)/o.episodeCount,o.lastUpdated=new Date().toISOString()}await this.saveUserPreferences(r)}async getUserPreferences(){return this.USE_SUPABASE?await this.getUserPreferencesFromSupabase():this.getUserPreferencesFromLocalStorage()}async saveUserPreferences(e){this.USE_SUPABASE?await this.saveUserPreferencesToSupabase(e):this.saveUserPreferencesToLocalStorage(e)}getUserPreferencesFromLocalStorage(){const e=localStorage.getItem(this.PREFERENCES_KEY);return e?JSON.parse(e):[]}saveUserPreferencesToLocalStorage(e){localStorage.setItem(this.PREFERENCES_KEY,JSON.stringify(e))}getImplicitFeedbackFromLocalStorage(){const e=localStorage.getItem(this.IMPLICIT_FEEDBACK_KEY);return e?JSON.parse(e):[]}saveImplicitFeedbackToLocalStorage(e){const r=this.getImplicitFeedbackFromLocalStorage();r.push(e);const n=r.slice(-1e3);localStorage.setItem(this.IMPLICIT_FEEDBACK_KEY,JSON.stringify(n))}async getUserPreferencesFromSupabase(){if(!Me)return console.log(" Supabase not configured, using localStorage for preferences"),this.getUserPreferencesFromLocalStorage();try{const{data:e,error:r}=await Me.from("user_preferences").select("*");return r?(console.warn(" Supabase preferences error (falling back to localStorage):",r.message),this.getUserPreferencesFromLocalStorage()):e||[]}catch(e){return console.warn(" Supabase preferences connection error (falling back to localStorage):",e),this.getUserPreferencesFromLocalStorage()}}async saveUserPreferencesToSupabase(e){if(!Me){console.log(" Supabase not configured, using localStorage for preferences"),this.saveUserPreferencesToLocalStorage(e);return}try{await Me.from("user_preferences").delete().neq("id",0);const{error:r}=await Me.from("user_preferences").insert(e);r&&(console.warn(" Supabase preferences save error (falling back to localStorage):",r.message),this.saveUserPreferencesToLocalStorage(e))}catch(r){console.warn(" Supabase preferences save connection error (falling back to localStorage):",r),this.saveUserPreferencesToLocalStorage(e)}}async saveImplicitFeedbackToSupabase(e){if(!Me){console.log(" Supabase not configured, using localStorage for implicit feedback"),this.saveImplicitFeedbackToLocalStorage(e);return}try{const{error:r}=await Me.from("implicit_feedback").insert([e]);r&&(console.warn(" Supabase implicit feedback save error (falling back to localStorage):",r.message),this.saveImplicitFeedbackToLocalStorage(e))}catch(r){console.warn(" Supabase implicit feedback save connection error (falling back to localStorage):",r),this.saveImplicitFeedbackToLocalStorage(e)}}async getAllRatings(){return this.USE_SUPABASE?await this.getAllRatingsFromSupabase():this.getAllRatingsFromLocalStorage()}saveRatingToLocalStorage(e){const r=this.getAllRatingsFromLocalStorage();r.push(e),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r))}getAllRatingsFromLocalStorage(){const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}async saveRatingToSupabase(e){if(!Me){console.error("Supabase not configured");return}try{const{error:r}=await Me.from("ratings").insert([{episode_id:e.episodeId,rating:e.rating,mood:e.mood,themes:e.themes,timestamp:e.timestamp,comment:e.comment||null}]);r?(console.error("Error saving rating to Supabase:",r),this.saveRatingToLocalStorage(e)):console.log("Rating saved to Supabase successfully")}catch(r){console.error("Error saving rating to Supabase:",r),this.saveRatingToLocalStorage(e)}}async getAllRatingsFromSupabase(){if(!Me)return console.error("Supabase not configured"),[];try{const{data:e,error:r}=await Me.from("ratings").select("*");return r?(console.error("Error fetching ratings from Supabase:",r),this.getAllRatingsFromLocalStorage()):e.map(n=>({episodeId:n.episode_id,rating:n.rating,mood:n.mood,themes:n.themes,timestamp:n.timestamp,comment:n.comment}))}catch(e){return console.error("Supabase connection error:",e),this.getAllRatingsFromLocalStorage()}}async getRatingData(e){const r=(await this.getAllRatings()).filter(l=>l.episodeId===e);if(r.length===0)return null;const n=r.length,s=r.reduce((l,a)=>l+a.rating,0)/n,i={happy:{sum:0,count:0},sad:{sum:0,count:0},anxious:{sum:0,count:0},bored:{sum:0,count:0},curious:{sum:0,count:0},tired:{sum:0,count:0},focused:{sum:0,count:0},stressed:{sum:0,count:0},surprise_me:{sum:0,count:0},dont_know:{sum:0,count:0}},o={laugh:{sum:0,count:0},cry:{sum:0,count:0},learn:{sum:0,count:0},be_inspired:{sum:0,count:0},escape:{sum:0,count:0},chill:{sum:0,count:0},be_distracted:{sum:0,count:0},be_shocked:{sum:0,count:0},reflect:{sum:0,count:0},stay_updated:{sum:0,count:0},feel_seen:{sum:0,count:0},kill_time:{sum:0,count:0}};return r.forEach(l=>{l.mood.forEach(a=>{i[a].sum+=l.rating,i[a].count+=1}),l.themes.forEach(a=>{o[a].sum+=l.rating,o[a].count+=1})}),{episodeId:e,averageRating:s,totalRatings:n,moodRatings:i,themeRatings:o}}async getAverageRatingForMoodTheme(e,r){const n=(await this.getAllRatings()).filter(s=>s.mood.includes(e)&&s.themes.includes(r));return n.length===0?0:n.reduce((s,i)=>s+i.rating,0)/n.length}isSupabaseConfigured(){return this.USE_SUPABASE}async getUserPreferencesSummary(){const e=await this.getUserPreferences(),r=await this.getAllRatings(),n=e.sort((i,o)=>o.weight-i.weight).slice(0,10).map(i=>({combo:`${i.mood} + ${i.theme.replace("_"," ")}`,weight:Math.round(i.weight*100)/100,episodes:i.episodeCount})),s=r.length>0?r.reduce((i,o)=>i+o.rating,0)/r.length:0;return{topMoodThemeCombos:n,totalRatings:r.length,avgRating:Math.round(s*100)/100}}}const li=new H0,If={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up","Entertainment","Talk Shows","Radio Comedy"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},Af={happy:{primary:["Comedy","Music","Health & Fitness"],secondary:["Arts","Leisure","Society & Culture"]},sad:{primary:["Health & Fitness","Society & Culture","Religion & Spirituality"],secondary:["Music","Arts","Education"]},anxious:{primary:["Health & Fitness","Religion & Spirituality","Education"],secondary:["Society & Culture","Music"]},bored:{primary:["Comedy","TV & Film","Leisure"],secondary:["True Crime","News","Sports"]},curious:{primary:["Science","Education","History"],secondary:["Technology","News","Society & Culture"]},tired:{primary:["Health & Fitness","Religion & Spirituality","Music"],secondary:["Society & Culture","Fiction"]},focused:{primary:["Education","Business","Science"],secondary:["Technology","Health & Fitness","News"]},stressed:{primary:["Health & Fitness","Religion & Spirituality","Music"],secondary:["Comedy","Society & Culture"]},surprise_me:{primary:["Comedy","True Crime","Science"],secondary:["Fiction","TV & Film","Leisure"]},dont_know:{primary:["Comedy","News","Society & Culture"],secondary:["Education","Health & Fitness","Arts"]}},Lf={laugh:{primary:["Comedy"],secondary:["TV & Film","Leisure"]},cry:{primary:["Fiction","Society & Culture"],secondary:["Health & Fitness","True Crime"]},learn:{primary:["Education","Science","History"],secondary:["Technology","Business","News"]},be_inspired:{primary:["Education","Business","Health & Fitness"],secondary:["Religion & Spirituality","Society & Culture"]},escape:{primary:["Fiction","True Crime","TV & Film"],secondary:["Science Fiction","Arts","Leisure"]},chill:{primary:["Health & Fitness","Religion & Spirituality","Music"],secondary:["Society & Culture","Nature"]},be_distracted:{primary:["Comedy","Leisure","TV & Film"],secondary:["Music","Sports","Arts"]},be_shocked:{primary:["True Crime","News"],secondary:["Society & Culture","Government"]},reflect:{primary:["Religion & Spirituality","Society & Culture","Health & Fitness"],secondary:["Philosophy","Education","Arts"]},stay_updated:{primary:["News","Technology","Business"],secondary:["Science","Government","Sports"]},feel_seen:{primary:["Society & Culture","Health & Fitness","Religion & Spirituality"],secondary:["Personal Journals","Relationships","Arts"]},kill_time:{primary:["Comedy","Leisure","TV & Film"],secondary:["Sports","Music","True Crime"]}};function Uf(t,e){const r=new Set,n=new Set,s=new Set;return t.forEach(i=>{const o=Af[i];o&&(o.primary.forEach(l=>r.add(l)),o.secondary.forEach(l=>n.add(l)))}),e.forEach(i=>{const o=Lf[i];o&&(o.primary.forEach(l=>r.add(l)),o.secondary.forEach(l=>n.add(l)))}),[...r,...n].forEach(i=>{const o=If[i];o&&o.forEach(l=>s.add(l))}),{primary:Array.from(r),secondary:Array.from(n),subcategories:Array.from(s)}}const V0=Object.freeze(Object.defineProperty({__proto__:null,getCategoriesForUserSelection:Uf,moodToCategoryMap:Af,podcastCategories:If,themeToCategoryMap:Lf},Symbol.toStringTag,{value:"Module"}));let nr=[],Mf=0,ga=0;const W0=20;function q0(t){let e=0;if(t.spotify_popularity&&(e+=t.spotify_popularity/100*.6),t.follower_count){const r=Math.log10(t.follower_count+1)/7;e+=Math.min(r,1)*.3}if(t.chart_position){const r=Math.max(0,(100-t.chart_position)/100);e+=r*.1}return Math.min(1,e)}const Kt={categoryRelevance:30,durationScore:20,personalFit:20,popularityScore:35,topQualityBonus:15,qualitySignals:10,diversityBonus:5};function K0(t,e,r){const n=Uf(e,r);let s=0;const i=[];return s+=15,t.description&&t.description.length>100&&(s+=5,i.push("Professional content quality")),t.publisher&&t.publisher.length>2&&(s+=3,i.push("Established publisher")),t.cover_art&&t.cover_art.length>0&&(s+=2,i.push("Professional presentation")),n.primary.length>0&&(s+=10,i.push(`Matches ${n.primary.length} primary categories`)),n.secondary.length>0&&(s+=5,i.push(`Matches ${n.secondary.length} secondary categories`)),i.push("Category-based search result"),{score:s,matchReasons:i}}function Q0(t){var u,c;let e=0;t.cover_art&&t.cover_art.length>0&&(e+=.15);let r=0;if(t.title&&t.title.length>5&&(r+=.25),t.description&&t.description.length>50&&(r+=.25),t.publisher&&t.publisher.length>0&&(r+=.25),t.cover_art&&t.cover_art.length>0&&(r+=.25),e+=r*.2,t.published_at){const d=new Date(t.published_at),f=(Date.now()-d.getTime())/(1e3*60*60*24);f<7?e+=.25:f<30?e+=.15:f<90&&(e+=.05)}const n=((u=t.title)==null?void 0:u.toLowerCase())||"",s=((c=t.description)==null?void 0:c.toLowerCase())||"";t.title&&t.title.length>10&&t.title.length<100&&t.title!==t.title.toUpperCase()&&t.title!==t.title.toLowerCase()&&(e+=.1),s.length>200&&(e+=.1);const o=["interview","episode","discussion","analysis","review","deep dive"].filter(d=>n.includes(d)||s.includes(d));e+=Math.min(.15,o.length*.05);const a=["subscribe now","like and follow","click here","buy now"].filter(d=>s.includes(d));return e-=a.length*.1,Math.max(0,Math.min(1,e))}function G0(t,e){const r=Math.floor(t.audio_length_sec/60),n=Math.abs(r-e);return n<=2?1:n<=5?.8:n<=10?.6:n<=15?.4:r>e&&e>60?.3:.1}function J0(t){return nr.includes(t.id)?-.5:nr.some(e=>t.podcast_name===t.podcast_name)?0:.2}async function Y0(t,e,r){try{const n=await li.getEpisodeRatingBonus(t.id,e,r),s=await li.getImplicitFeedbackBonus(t.id),i=n+s;return Math.max(0,Math.min(1,i/5))}catch(n){return console.error("Error calculating personal fit:",n),0}}async function X0(t,e,r,n){var d;const s=[],i={categoryRelevance:0,qualitySignals:Q0(t),personalFit:await Y0(t,e,r),diversityBonus:J0(t),durationScore:G0(t,n),popularityScore:q0(t),topQualityBonus:t.is_top_quality?1:0},o=K0(t,e,r);i.categoryRelevance=o.score/20,s.push(...o.matchReasons);const l=i.categoryRelevance*Kt.categoryRelevance+i.qualitySignals*Kt.qualitySignals+i.personalFit*Kt.personalFit+i.diversityBonus*Kt.diversityBonus+i.durationScore*Kt.durationScore+i.popularityScore*Kt.popularityScore+i.topQualityBonus*Kt.topQualityBonus;console.log(` Scoring "${(d=t.title)==null?void 0:d.substring(0,50)}...":`,{finalScore:Math.round(l*100)/100,category:Math.round(i.categoryRelevance*100)/100,popularity:Math.round(i.popularityScore*100)/100,quality:Math.round(i.qualitySignals*100)/100,duration:Math.round(i.durationScore*100)/100,personal:Math.round(i.personalFit*100)/100,spotify_popularity:t.spotify_popularity,follower_count:t.follower_count,note:"CATEGORY-BASED (no keyword matching)"});const a=Math.floor(t.audio_length_sec/60),u=Math.abs(a-n);u<=2?s.push(`Perfect length at ${a} minutes`):u<=5?s.push(`Great length at ${a} minutes`):s.push(`${a} minutes (${u} min from target)`),i.popularityScore>.7?s.push(" Highly popular podcast"):i.popularityScore>.4&&s.push(" Popular content"),i.categoryRelevance>.7?s.push(" Excellent category match"):i.categoryRelevance>.4&&s.push(" Good category match"),i.qualitySignals>.5&&s.push(" High quality content"),i.personalFit>.6&&s.push(" Personalized for you");const c=s.length>0?s.join("  "):"General match based on your preferences";return{...t,score:Math.round(l*100)/100,matchReason:c}}async function ho(t,e,r,n){const o=Math.max(0,(n-15)*60),l=(n+15)*60;console.log(` VibeCast 2.1 filtering: ${n} minutes (15 min)`);let a=t.filter(d=>d.audio_length_sec>=o&&d.audio_length_sec<=l);if(console.log(` Primary filter: ${a.length}/${t.length} episodes`),a.length<15){console.log(" Expanding to 25 minutes");const d=Math.max(0,(n-25)*60),f=(n+25)*60;a=t.filter(y=>y.audio_length_sec>=d&&y.audio_length_sec<=f),console.log(` Expanded filter: ${a.length} episodes`)}const c=(await Promise.all(a.map(d=>X0(d,e,r,n)))).sort((d,f)=>f.score-d.score);return c.length>0&&(nr.unshift(c[0].id),nr=nr.slice(0,W0)),console.log(` VibeCast 2.1 ranking: ${c.length} episodes scored`),c.length>0&&console.log(` Top episode: "${c[0].title}" (score: ${c[0].score})`),c}function Z0(){Mf++}function ey(){ga++}function ty(){ga=0}function ry(){return{recentCount:nr.length,recentEpisodes:nr,sessionCount:Mf,recentSkips:ga}}var Vu={};class ny{constructor(){Ne(this,"accessToken",null);Ne(this,"tokenExpiry",0);Ne(this,"CLIENT_ID",Vu.VITE_SPOTIFY_CLIENT_ID||"");Ne(this,"REDIRECT_URI",Vu.VITE_SPOTIFY_REDIRECT_URI||"http://localhost:3001/callback");Ne(this,"topPodcastsCache",[]);Ne(this,"topPodcastsTimestamp",0);Ne(this,"TOP_PODCASTS_TTL",24*60*60*1e3)}generatePlatformUrls(e,r){const n=encodeURIComponent(e),s=r?encodeURIComponent(`${e} ${r}`):n;return{spotify:`https://open.spotify.com/search/${n}/shows`,apple:`podcasts://podcasts.apple.com/search?term=${s}`,google:`https://podcasts.google.com/search/${n}`,web:`https://www.google.com/search?q=${s}+podcast`}}async getAccessToken(){if(this.accessToken&&Date.now()<this.tokenExpiry)return this.accessToken;try{const r=await fetch("/api/spotify-auth",{method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Error(`Auth endpoint failed: ${r.status} - ${s.message||"Unknown error"}`)}const n=await r.json();if(this.accessToken=n.access_token,this.tokenExpiry=Date.now()+n.expires_in*1e3-6e4,!this.accessToken)throw new Error("No access token received from Spotify auth endpoint");return this.accessToken}catch(e){throw console.error("Failed to get Spotify access token:",e),e}}async getTopPodcasts(){if(this.topPodcastsCache.length>0&&Date.now()-this.topPodcastsTimestamp<this.TOP_PODCASTS_TTL)return this.topPodcastsCache;try{const e=await this.getAccessToken(),r=["US","AU","GB","CA","NZ","IE","ZA"],n=r.map(async u=>{var d;const c=await fetch(`https://api.spotify.com/v1/browse/featured-playlists?market=${u}&limit=20`,{headers:{Authorization:`Bearer ${e}`}});return c.ok?((d=(await c.json()).playlists)==null?void 0:d.items)||[]:[]}),s=await Promise.all(n),i=r.map(async u=>{var d;const c=await fetch(`https://api.spotify.com/v1/search?q=podcast&type=show&market=${u}&limit=20`,{headers:{Authorization:`Bearer ${e}`}});return c.ok?((d=(await c.json()).shows)==null?void 0:d.items)||[]:[]}),o=await Promise.all(i),a=[...s.flat(),...o.flat()].filter((u,c,d)=>d.findIndex(f=>f.id===u.id)===c);return this.topPodcastsCache=a.map(u=>{const c=this.generatePlatformUrls(u.name,u.publisher);return{id:u.id,name:u.name,description:u.description||"",publisher:u.publisher||"",images:u.images||[],total_episodes:u.total_episodes||0,external_urls:u.external_urls||{spotify:""},apple_url:c.apple,google_url:c.google,web_url:c.web,popularity:u.popularity||0,explicit:u.explicit||!1,languages:u.languages||[],media_type:u.media_type||"audio"}}),this.topPodcastsTimestamp=Date.now(),this.topPodcastsCache}catch(e){return console.error("Failed to fetch top podcasts:",e),[]}}async searchPodcasts(e,r=20){try{console.log(` Starting TOP 50 CHARTS episode search for "${e}"`);const n={happy:"comedy","want to laugh":"comedy",laugh:"comedy",funny:"comedy",humor:"comedy",entertainment:"comedy",sad:"society-culture",relaxed:"leisure",excited:"music",inspired:"motivation"};let s=e.toLowerCase();n[s]&&(s=n[s],console.log(` Mapped mood query "${e}" to category "${s}"`));const a=(await this.getTopPodcasts()).filter(f=>{const y=(f.name||"").toLowerCase(),_=(f.description||"").toLowerCase(),v=(f.publisher||"").toLowerCase();if(s==="comedy"){if(!["comedy","funny","humor","joke","laugh","standup","stand-up","comedian","satire","parody","sketch","improv","comedy club","late night","talk show","entertainment","fun","hilarious","rogan","conan","colbert","fallon","kimmel","myers","comedy central","netflix comedy","amazon comedy"].some(w=>y.includes(w)||_.includes(w)||v.includes(w)))return console.log(` BLOCKED non-comedy content: "${f.name}"`),!1;if(["crime","murder","true crime","serial killer","investigation","detective","police","forensic","criminal","justice"].some(w=>y.includes(w)||_.includes(w)||v.includes(w)))return console.log(` BLOCKED crime content for comedy: "${f.name}"`),!1}return!0}).sort((f,y)=>{const _=f.popularity||0;return(y.popularity||0)-_}).slice(0,Math.min(r,10));let u=[];for(const f of a)try{const _=(await this.getPodcastEpisodes(f.id,5)).map(v=>{var b,m,p;return{id:v.id,name:v.name,description:v.description||v.html_description||"",publisher:f.publisher||((b=v.show)==null?void 0:b.publisher)||"",podcast_name:f.name,images:v.images||f.images||[],total_episodes:f.total_episodes||0,external_urls:v.external_urls||f.external_urls||{spotify:""},apple_url:f.apple_url||"",google_url:f.google_url||"",web_url:f.web_url||"",popularity:f.popularity||0,explicit:v.explicit||f.explicit||!1,languages:f.languages||["en"],media_type:"audio",spotify_uri:v.uri||`spotify:episode:${v.id}`,external_url:((m=v.external_urls)==null?void 0:m.spotify)||((p=f.external_urls)==null?void 0:p.spotify)||"",duration_ms:v.duration_ms||0,release_date:v.release_date||"",show_id:f.id,show_name:f.name,show_publisher:f.publisher,show_images:f.images||[]}});u=[...u,..._]}catch(y){console.log(` Failed to get episodes for ${f.name}:`,y)}const d=u.sort((f,y)=>{const _=f.popularity||0;return(y.popularity||0)-_}).slice(0,r);return console.log(` TOP 50 CHARTS: Found ${d.length} episodes for "${e}" (category: ${s})`),d.map(f=>{const y=this.generatePlatformUrls(f.podcast_name||f.name,f.publisher);return{id:f.id,name:f.name,description:f.description||"",publisher:f.publisher||"",images:f.images||f.show_images||[],total_episodes:f.total_episodes||0,external_urls:f.external_urls||{spotify:""},apple_url:f.apple_url||y.apple,google_url:f.google_url||y.google,web_url:f.web_url||y.web,popularity:f.popularity||0,explicit:f.explicit||!1,languages:f.languages||["en"],media_type:f.media_type||"audio",spotify_uri:f.spotify_uri,external_url:f.external_url,duration_ms:f.duration_ms||0,release_date:f.release_date||"",show_id:f.show_id,show_name:f.show_name||f.podcast_name,show_publisher:f.show_publisher||f.publisher,show_images:f.show_images||f.images}})}catch(n){throw console.error("Spotify episode search failed:",n),n}}async getPodcastDetails(e){try{const r=await this.getAccessToken(),n=await fetch(`https://api.spotify.com/v1/shows/${e}?market=US`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error(`Failed to get podcast details: ${n.status}`);const s=await n.json(),i=this.generatePlatformUrls(s.name,s.publisher);return{id:s.id,name:s.name,description:s.description||"",publisher:s.publisher||"",images:s.images||[],total_episodes:s.total_episodes||0,external_urls:s.external_urls||{spotify:""},apple_url:i.apple,google_url:i.google,web_url:i.web}}catch(r){return console.error("Failed to get podcast details:",r),null}}async getPodcastEpisodes(e,r=20){try{const n=await this.getAccessToken(),s=await fetch(`https://api.spotify.com/v1/shows/${e}/episodes?market=US&limit=${r}`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Failed to get episodes: ${s.status}`);return(await s.json()).items||[]}catch(n){return console.error("Failed to get podcast episodes:",n),[]}}isAuthenticated(){return!!this.accessToken}getLoginUrl(){const e=["user-read-playback-state","user-modify-playback-state","user-read-currently-playing"];return`https://accounts.spotify.com/authorize?${new URLSearchParams({client_id:this.CLIENT_ID,response_type:"code",redirect_uri:this.REDIRECT_URI,scope:e.join(" "),state:Math.random().toString(36).substring(7)}).toString()}`}async playEpisode(e){try{if(this.accessToken){const r=await fetch("https://api.spotify.com/v1/me/player/play",{method:"PUT",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({uris:[e]})});if(r.ok){console.log(" Successfully started playback via Spotify API");return}throw r.status===403?(console.log(" User doesn't have playback permissions, opening Spotify web player"),new Error("Playback failed: 403 - User authentication required")):new Error(`Playback failed: ${r.status}`)}else throw new Error("Not authenticated with Spotify")}catch(r){console.error("Failed to play episode via API:",r);let n="";throw e.startsWith("spotify:episode:")?n=`https://open.spotify.com/episode/${e.replace("spotify:episode:","")}`:e.startsWith("spotify:show:")?n=`https://open.spotify.com/show/${e.replace("spotify:show:","")}`:e.startsWith("https://open.spotify.com/")?n=e:n=`https://open.spotify.com/search/${encodeURIComponent(e)}/shows`,console.log(` Opening Spotify web player: ${n}`),window.open(n,"_blank"),r}}async testService(){try{return await this.getAccessToken(),{success:!0,message:`Successfully connected to Spotify API. Found ${(await this.searchPodcasts("comedy",5)).length} real podcasts.`}}catch(e){return{success:!1,message:`Spotify API Error: ${e instanceof Error?e.message:"Unknown error"}`}}}async debugSearch(e){console.log(` DEBUG: Testing search for "${e}"`);try{const r=await this.searchPodcasts(e,5);console.log(` Found ${r.length} results for "${e}":`),r.forEach((n,s)=>{console.log(`${s+1}. ${n.name} - ${n.publisher}`)})}catch(r){console.error(` Search failed for "${e}":`,r)}}}const gl=new ny;class sy{constructor(){Ne(this,"currentProvider","spotify");console.log(" PodcastService initialized")}convertSpotifyPodcastToEpisode(e){var n,s,i;return{id:`spotify_${e.id}`,title:e.name,description:e.description||"No description available",audio_length_sec:1800,podcast_name:e.name,publisher:e.publisher,cover_art:((s=(n=e.images)==null?void 0:n[0])==null?void 0:s.url)||"",external_url:e.external_urls.spotify,spotify_uri:`spotify:show:${e.id}`,published_at:new Date().toISOString(),platform_links:{spotify:e.external_urls.spotify,apple:e.apple_url,google:e.google_url,web:e.web_url},content_type:"podcast_show",is_top_quality:!0,spotify_popularity:e.popularity||0,episode_count:e.total_episodes||0,follower_count:e.popularity?Math.floor(e.popularity*1e3):void 0,has_transcript:(((i=e.description)==null?void 0:i.length)||0)>100,release_schedule:e.popularity&&e.popularity>50?"weekly":"irregular"}}async searchSpotify(e,r=20){try{console.log(" Searching Spotify for:",e);const s=(await gl.searchPodcasts(e,r)).map(i=>this.convertSpotifyPodcastToEpisode(i));return console.log(` Spotify: Found ${s.length} podcast shows`),s}catch(n){throw console.error(" Spotify search failed:",n),n}}removeDuplicates(e){const r=new Set,n=[];for(const s of e){const i=this.normalizeTitle(s.title);r.has(i)||(r.add(i),n.push(s))}return n}normalizeTitle(e){return e.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim()}async searchPodcasts(e,r=20){console.log(` Starting Spotify podcast search: "${e}" (limit: ${r})`);try{const n=await this.searchSpotify(e,r);return{episodes:this.removeDuplicates(n).slice(0,r),provider:"spotify"}}catch(n){return console.error(" Spotify podcast search failed:",n),{episodes:[],provider:"spotify",error:n instanceof Error?n.message:"Unknown error"}}}setProvider(e){this.currentProvider="spotify",console.log(" Provider set to: spotify")}getProvider(){return this.currentProvider}getProviderStatus(){return{provider:this.currentProvider,authenticated:!1}}getProviderRecommendation(){return{recommended:"spotify",reason:"Spotify provides access to millions of high-quality podcasts."}}async testServices(){return{spotify:await gl.testService().catch(()=>({success:!1,message:"Service test failed"}))}}}const Tn=new sy,iy=({episode:t,userMoods:e,userThemes:r,onRatingSubmitted:n})=>{const[s,i]=M.useState(0),[o,l]=M.useState(0),[a,u]=M.useState(""),[c,d]=M.useState(!1),[f,y]=M.useState(!1),_=p=>{i(p)},v=async()=>{if(s===0)return;const p={episodeId:t.id,rating:s,mood:e,themes:r,timestamp:Date.now(),comment:a.trim()||void 0};try{await li.saveRating(p),y(!0),n()}catch(g){console.error("Error saving rating:",g),y(!0),n()}},b=p=>{switch(p){case 1:return"Poor match";case 2:return"Fair match";case 3:return"Good match";case 4:return"Great match";case 5:return"Perfect match";default:return"Rate this match"}},m=p=>{switch(p){case 1:return"text-red-600";case 2:return"text-orange-600";case 3:return"text-yellow-600";case 4:return"text-green-600";case 5:return"text-purple-600";default:return"text-gray-600"}};return f?h.jsx("div",{className:"bg-gradient-to-r from-[#e1d5ff]/80 via-[#d4c5ff]/70 to-[#c8b5ff]/80 rounded-3xl p-6 border border-[#b19cd9]/50 shadow-lg backdrop-blur-sm",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex items-center justify-center mb-3",children:h.jsx(Sg,{className:"w-8 h-8 text-[#8b5cf6]"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Thanks for your feedback!"}),h.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Your rating helps us improve future recommendations for you and others with similar preferences."})]})}):h.jsx("div",{className:"bg-gradient-to-br from-[#ffc1cc] via-[#d8b4fe] via-[#a5b4fc] to-[#fef3c7] rounded-3xl p-6 border border-[#c4b5fd]/50 shadow-lg backdrop-blur-sm",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[h.jsx(uf,{className:"w-5 h-5 text-gray-700"}),h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"How was this match?"})]}),h.jsx("p",{className:"text-sm text-gray-700 mb-6 leading-relaxed",children:"Rate how well this episode matched your mood and preferences"}),h.jsx("div",{className:"flex justify-center items-center gap-2 mb-6",children:[1,2,3,4,5].map(p=>h.jsx("button",{onClick:()=>_(p),onMouseEnter:()=>l(p),onMouseLeave:()=>l(0),className:"p-2 transition-all duration-200 hover:scale-110 rounded-full hover:bg-purple-200/50",children:h.jsx(Tg,{size:32,className:`
                  ${p<=(o||s)?"fill-purple-500 text-purple-500":"text-gray-400 hover:text-purple-400"}
                  transition-colors duration-200
                `})},p))}),h.jsx("div",{className:"mb-6",children:h.jsx("span",{className:`text-lg font-semibold ${m(o||s)}`,children:b(o||s)})}),h.jsx("div",{className:"mb-6",children:h.jsxs("button",{onClick:()=>d(!c),className:"flex items-center gap-2 text-sm text-purple-600 hover:text-purple-700 transition-colors mx-auto font-medium hover:bg-purple-100/50 px-4 py-2 rounded-full border border-purple-200",children:[h.jsx(Eg,{size:18}),c?"Hide comment":"Add comment (optional)"]})}),c&&h.jsxs("div",{className:"mb-6",children:[h.jsx("textarea",{value:a,onChange:p=>u(p.target.value),placeholder:"Tell us more about your experience...",className:"w-full p-4 border border-purple-200 rounded-2xl text-sm resize-none focus:outline-none focus:ring-2 focus:ring-purple-300 focus:border-purple-300 bg-white/50 backdrop-blur-sm placeholder-gray-500 text-gray-700",rows:3,maxLength:200}),h.jsxs("div",{className:"text-xs text-purple-600 mt-2 text-right font-medium",children:[a.length,"/200"]})]}),h.jsxs("button",{onClick:v,disabled:s===0,className:"flex items-center gap-2 bg-purple-500 hover:bg-purple-600 text-white px-8 py-3 rounded-full font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] mx-auto",children:[h.jsx(Cg,{size:18}),"Submit Rating"]})]})})},oy=({isVisible:t,onClose:e})=>{const[r,n]=M.useState(null),[s,i]=M.useState(!1),[o,l]=M.useState(null);M.useEffect(()=>{t&&a()},[t]);const a=()=>{const d=Tn.getProviderStatus(),f=Tn.getProviderRecommendation();n({...d,recommendation:f})},u=async()=>{i(!0);try{const d=await Tn.testServices();l(d)}catch(d){console.error("Service test failed:",d)}finally{i(!1)}},c=()=>{const d=gl.getLoginUrl();window.location.href=d};return t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg",children:h.jsx(af,{className:"w-6 h-6 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Spotify Service Status"}),h.jsx("p",{className:"text-gray-600",children:"Manage your Spotify connection"})]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""})]}),r&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4",children:[h.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"Current Configuration"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-green-800",children:"Provider:"}),h.jsx("span",{className:"font-medium text-green-900",children:"Spotify"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-green-800",children:"Spotify Authenticated:"}),h.jsx("span",{className:`font-medium ${r.authenticated?"text-green-600":"text-red-600"}`,children:r.authenticated?"Yes":"No"})]})]})]}),!r.authenticated&&h.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4",children:[h.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:" Connect Spotify"}),h.jsx("p",{className:"text-sm text-green-800 mb-3",children:"Connect your Spotify account to access millions of podcasts and enjoy native playback."}),h.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[h.jsx(bg,{className:"w-4 h-4"}),"Connect Spotify"]})]}),r.recommendation&&h.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4",children:[h.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:" About VibeCast"}),h.jsxs("p",{className:"text-sm text-purple-800 mb-3",children:[h.jsx("strong",{children:"Powered by Spotify:"})," ",r.recommendation.reason]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:"Test Spotify Connection"}),h.jsxs("button",{onClick:u,disabled:s,className:"flex items-center gap-2 bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 transition-colors text-sm disabled:opacity-50",children:[s?"":""," Test Connection"]})]}),o&&h.jsx("div",{className:"space-y-2",children:h.jsxs("div",{className:`p-3 rounded-lg ${o.spotify.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-medium",children:"Spotify"}),h.jsx("span",{className:o.spotify.success?"text-green-600":"text-red-600",children:o.spotify.success?"":""})]}),h.jsx("p",{className:"text-sm opacity-75",children:o.spotify.message})]})})]})]})]})})}):null},ly=({isVisible:t,onClose:e})=>{const[r,n]=M.useState(null),[s,i]=M.useState(!1);M.useEffect(()=>{t&&o()},[t]);const o=async()=>{i(!0);try{const l=await li.getUserPreferencesSummary();n(l)}catch(l){console.error("Error loading preferences:",l)}finally{i(!1)}};return t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg",children:h.jsx(lf,{className:"w-6 h-6 text-purple-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Preference Intelligence"}),h.jsx("p",{className:"text-gray-600",children:"How VibeCast 2.0 learns your taste"})]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""})]}),s?h.jsxs("div",{className:"flex items-center justify-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),h.jsx("span",{className:"ml-3 text-gray-600",children:"Analyzing your preferences..."})]}):r?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.totalRatings}),h.jsx("div",{className:"text-sm text-blue-800",children:"Episodes Rated"})]}),h.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.avgRating}),h.jsx("div",{className:"text-sm text-green-800",children:"Avg Rating"})]}),h.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.topMoodThemeCombos.length}),h.jsx("div",{className:"text-sm text-purple-800",children:"Learned Patterns"})]})]}),r.topMoodThemeCombos.length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Pg,{className:"w-5 h-5 text-green-600"}),"Your Favorite Mood + Theme Combinations"]}),h.jsx("div",{className:"space-y-3",children:r.topMoodThemeCombos.slice(0,5).map((l,a)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"w-6 h-6 bg-gradient-to-r from-purple-400 to-pink-400 text-white rounded-full flex items-center justify-center text-sm font-bold",children:a+1}),h.jsx("span",{className:"font-medium text-gray-900",children:l.combo})]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[h.jsxs("span",{children:[l.episodes," episodes"]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${l.weight>.3?"bg-green-400":l.weight>0?"bg-yellow-400":"bg-red-400"}`}),h.jsx("span",{className:"font-medium",children:l.weight>.3?"Love":l.weight>0?"Like":"Dislike"})]})]})]},a))})]}),h.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-4 rounded-lg",children:[h.jsx("h3",{className:"font-semibold text-indigo-900 mb-2",children:" How VibeCast 2.0 Enhances Your Experience:"}),h.jsxs("ul",{className:"text-sm text-indigo-800 space-y-1",children:[h.jsxs("li",{children:[" ",h.jsx("strong",{children:"Semantic Matching:"})," Understands content meaning, not just keywords"]}),h.jsxs("li",{children:[" ",h.jsx("strong",{children:"Personal Learning:"})," Adapts to your rating patterns over time"]}),h.jsxs("li",{children:[" ",h.jsx("strong",{children:"Quality Signals:"})," Prioritizes well-produced, engaging content"]}),h.jsxs("li",{children:[" ",h.jsx("strong",{children:"Diversity Balance:"})," Prevents repetitive recommendations"]}),h.jsxs("li",{children:[" ",h.jsx("strong",{children:"Smart Duration:"})," Flexible time matching with context awareness"]})]})]}),r.totalRatings===0&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"text-gray-400 mb-4",children:h.jsx(uf,{className:"w-12 h-12 mx-auto"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Building Your Profile"}),h.jsx("p",{className:"text-gray-600",children:"Rate a few episodes to see your personalized insights here!"})]})]}):h.jsx("div",{className:"text-center py-8 text-gray-600",children:"No preference data available yet. Start rating episodes to build your profile!"})]})})}):null},ay=({description:t,maxLength:e=200})=>{const[r,n]=M.useState(!1);if(!t||t.length<=e)return h.jsx("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed",children:t});const i=((o,l)=>{if(o.length<=l)return o;let a=o.substring(0,l);const u=a.lastIndexOf(" "),c=a.lastIndexOf("."),d=a.lastIndexOf(","),f=Math.max(c,d,u);return f>l*.8&&(a=a.substring(0,f)),a})(t,e);return h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:r?t:`${i}...`}),h.jsx("button",{onClick:()=>n(!r),className:"flex items-center gap-1 mt-2 text-sm text-[#ff6b6b] hover:text-[#ff5252] font-medium transition-colors",children:r?h.jsxs(h.Fragment,{children:[h.jsx(kg,{size:16}),"Read less"]}):h.jsxs(h.Fragment,{children:[h.jsx(xg,{size:16}),"Read more"]})})]})},Wu=({type:t,className:e=""})=>{const r=`inline-block ${e}`;switch(t){case"happy":return h.jsx("div",{className:`${r} text-lg`,children:""});case"sad":return h.jsx("div",{className:`${r} text-lg`,children:""});case"anxious":return h.jsx("div",{className:`${r} text-lg`,children:""});case"bored":return h.jsx("div",{className:`${r} text-lg`,children:""});case"curious":return h.jsx("div",{className:`${r} text-lg`,children:""});case"tired":return h.jsx("div",{className:`${r} text-lg`,children:""});case"focused":return h.jsx("div",{className:`${r} text-lg`,children:""});case"stressed":return h.jsx("div",{className:`${r} text-lg`,children:""});case"surprise":return h.jsx("div",{className:`${r} text-lg`,children:""});case"unknown":return h.jsx("div",{className:`${r} text-lg`,children:""});case"laugh":return h.jsx("div",{className:`${r} text-lg`,children:""});case"cry":return h.jsx("div",{className:`${r} text-lg`,children:""});case"learn":return h.jsx("div",{className:`${r} text-lg`,children:""});case"inspire":return h.jsx("div",{className:`${r} text-lg`,children:""});case"escape":return h.jsx("div",{className:`${r} text-lg`,children:""});case"chill":return h.jsx("div",{className:`${r} text-lg`,children:""});case"distract":return h.jsx("div",{className:`${r} text-lg`,children:""});case"shock":return h.jsx("div",{className:`${r} text-lg`,children:""});case"reflect":return h.jsx("div",{className:`${r} text-lg`,children:""});case"update":return h.jsx("div",{className:`${r} text-lg`,children:""});case"seen":return h.jsx("div",{className:`${r} text-lg`,children:""});case"time":return h.jsx("div",{className:`${r} text-lg`,children:""});default:return h.jsx("div",{className:`${r} text-lg`,children:""})}},uy=({size:t=18,className:e=""})=>h.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",className:e,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"applePodcastsGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"#F452FF"}),h.jsx("stop",{offset:"100%",stopColor:"#832BC1"})]})}),h.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"url(#applePodcastsGradient)"}),h.jsx("path",{d:"M12 4.5c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5 7.5-3.358 7.5-7.5-3.358-7.5-7.5-7.5zm0 2c3.038 0 5.5 2.462 5.5 5.5s-2.462 5.5-5.5 5.5-5.5-2.462-5.5-5.5 2.462-5.5 5.5-5.5zm0 2c-1.933 0-3.5 1.567-3.5 3.5 0 .966.393 1.84 1.025 2.475.632.635 1.509 1.025 2.475 1.025s1.843-.39 2.475-1.025c.632-.635 1.025-1.509 1.025-2.475 0-1.933-1.567-3.5-3.5-3.5zm0 1.5c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1v2c0 .552.448 1 1 1s1-.448 1-1v-2c0-.552-.448-1-1-1z",fill:"white"})]}),qu=[{value:"happy",label:"Happy",color:"bg-[#ffc954] border-[#ffb1cf] text-gray-800 hover:bg-[#ffe1c9]",iconType:"happy"},{value:"sad",label:"Sad",color:"bg-[#c5e4ff] border-[#c8d1fa] text-gray-800 hover:bg-[#ded3f9]",iconType:"sad"},{value:"anxious",label:"Anxious",color:"bg-[#fa9baf] border-[#ffb1cf] text-gray-800 hover:bg-[#f2d6ec]",iconType:"anxious"},{value:"bored",label:"Bored",color:"bg-[#c8d1fa] border-[#ded3f9] text-gray-800 hover:bg-[#f1f0ff]",iconType:"bored"},{value:"curious",label:"Curious",color:"bg-[#ded3f9] border-[#f2d6ec] text-gray-800 hover:bg-[#f1f0ff]",iconType:"curious"},{value:"tired",label:"Tired",color:"bg-[#f1f0ff] border-[#c8d1fa] text-gray-800 hover:bg-[#ded3f9]",iconType:"tired"},{value:"focused",label:"Focused",color:"bg-[#e1ffd4] border-[#c5e4ff] text-gray-800 hover:bg-[#fdfaf7]",iconType:"focused"},{value:"stressed",label:"Stressed",color:"bg-[#fedec0] border-[#ffe1c9] text-gray-800 hover:bg-[#fa9baf]",iconType:"stressed"},{value:"surprise_me",label:"Surprise Me",color:"bg-[#ffb1cf] border-[#f2d6ec] text-gray-800 hover:bg-[#ffc954]",iconType:"surprise"},{value:"dont_know",label:"Don't Know",color:"bg-[#fdfaf7] border-[#c8d1fa] text-gray-800 hover:bg-[#ffe1c9]",iconType:"unknown"}],Ku=[{value:"laugh",label:"Laugh",color:"bg-[#ffc954] border-[#ffb1cf] text-gray-800 hover:bg-[#ffe1c9]",iconType:"laugh"},{value:"cry",label:"Cry",color:"bg-[#c5e4ff] border-[#c8d1fa] text-gray-800 hover:bg-[#ded3f9]",iconType:"cry"},{value:"learn",label:"Learn something",color:"bg-[#e1ffd4] border-[#c5e4ff] text-gray-800 hover:bg-[#fdfaf7]",iconType:"learn"},{value:"be_inspired",label:"Be inspired",color:"bg-[#ded3f9] border-[#f2d6ec] text-gray-800 hover:bg-[#f1f0ff]",iconType:"inspire"},{value:"escape",label:"Escape",color:"bg-[#c5e4ff] border-[#c8d1fa] text-gray-800 hover:bg-[#ded3f9]",iconType:"escape"},{value:"chill",label:"Chill out",color:"bg-[#f1f0ff] border-[#c8d1fa] text-gray-800 hover:bg-[#ded3f9]",iconType:"chill"},{value:"be_distracted",label:"Be distracted",color:"bg-[#fa9baf] border-[#ffb1cf] text-gray-800 hover:bg-[#f2d6ec]",iconType:"distract"},{value:"be_shocked",label:"Be shocked",color:"bg-[#fedec0] border-[#ffe1c9] text-gray-800 hover:bg-[#fa9baf]",iconType:"shock"},{value:"reflect",label:"Reflect",color:"bg-[#f2d6ec] border-[#ded3f9] text-gray-800 hover:bg-[#f1f0ff]",iconType:"reflect"},{value:"stay_updated",label:"Stay updated",color:"bg-[#c8d1fa] border-[#ded3f9] text-gray-800 hover:bg-[#f1f0ff]",iconType:"update"},{value:"feel_seen",label:"Feel seen",color:"bg-[#ffb1cf] border-[#f2d6ec] text-gray-800 hover:bg-[#ffc954]",iconType:"seen"},{value:"kill_time",label:"Kill time",color:"bg-[#fdfaf7] border-[#c8d1fa] text-gray-800 hover:bg-[#ffe1c9]",iconType:"time"}];function cy(){const[t,e]=M.useState(45),[r,n]=M.useState([]),[s,i]=M.useState([]),[o,l]=M.useState(!1),[a,u]=M.useState(null),[c,d]=M.useState([]),[f,y]=M.useState(!1),[_,v]=M.useState(!1),[b,m]=M.useState(!1),[p,g]=M.useState(!1),[w,k]=M.useState(0),[E,C]=M.useState(0),[P,z]=M.useState(new Set),[$,de]=M.useState([]),[wt,tt]=M.useState(0);M.useEffect(()=>{const S=ry();k(S.sessionCount),C(S.recentSkips)},[]),M.useEffect(()=>{},[]);const es=async()=>{console.log(" Starting Spotify API diagnostics...");try{const S=await Tn.testServices();console.log(" API Test Result:",S),S.spotify.success?alert(` Spotify Connection Test:  ${S.spotify.message}`):alert(` Spotify Connection Failed!

${S.spotify.message}

Try connecting your Spotify account or check your internet connection.`)}catch(S){console.error(" API test failed:",S),alert(` Spotify Test Failed!

Error: ${S instanceof Error?S.message:"Unknown error"}

Check console for details.`)}},Ri=S=>{n(N=>N.includes(S)?N.filter(R=>R!==S):N.length<2?[...N,S]:N)},Xr=S=>{i(N=>N.includes(S)?N.filter(R=>R!==S):[...N,S])},Zr=async()=>{console.log(" DEBUG: Starting category-based Spotify search..."),console.log(" Selected moods:",r),console.log(" Selected themes:",s),console.log(" Duration:",t);try{const{getCategoriesForUserSelection:S}=await Gr(async()=>{const{getCategoriesForUserSelection:_t}=await Promise.resolve().then(()=>V0);return{getCategoriesForUserSelection:_t}},void 0),N=S(r,s),R=[...N.primary,...N.secondary.slice(0,3)];console.log(" Pure podcast categories to search:",R);const se=(R.length>0?R.map(_t=>_t.toLowerCase()):["comedy","education","science"])[0];console.log(" Primary category search (pure category):",se);const Se=await Tn.searchPodcasts(se,20);if(Se.error)throw new Error(Se.error);if(Se.episodes.length===0)throw new Error("No podcasts found for your criteria. Try different mood/theme combinations.");return console.log(` SUCCESS: ${Se.episodes.length} category-based podcasts found`),Se.episodes}catch(S){throw console.error(" Category-based search failed:",S),S}},j=async()=>{if(r.length===0&&s.length===0){alert("Please select at least one mood or theme!");return}l(!0),y(!1),v(!1);try{console.log(" VibeCast 2.1: Starting podcast search..."),Z0(),k(R=>R+1),ty(),C(0),z(new Set),de([]),tt(0);const S=await Zr();d(S),console.log(` Ranking ${S.length} episodes with VibeCast 2.1...`);const N=await ho(S,r,s,t);if(N.length===0){console.warn("No episodes after ranking"),alert("No matching episodes found. Please try different selections.");return}u(N[0]),y(!0),v(!0)}catch(S){console.error("Error in findMatch:",S),S instanceof Error?alert(S.message):alert("Something went wrong while searching for podcasts. Please check your internet connection and try again.")}finally{l(!1)}},O=async()=>{if(!c.length){console.warn("No episodes to shuffle from");return}try{if(console.log(" VibeCast 2.1: Generating 10 unique shuffle options..."),ey(),C(S=>S+1),$.length===0){const N=(await ho(c,r,s,t)).filter(Se=>Se.id!==(a==null?void 0:a.id)&&!P.has(Se.id));if(N.length===0){console.log("No more unique episodes available for shuffle"),alert("You've seen all available episodes for this search. Try a new search!");return}const R=[],te=50;let se=0;for(;R.length<10&&se<te&&N.length>0;){se++;let Se,_t;w<=3?(Se=.7,_t=.9):(Se=.5,_t=.8),E>=2&&(_t=1);const ma=Math.random();let Wt;if(ma<Se){const Pe=N.slice(0,Math.min(5,N.length));Wt=Pe[Math.floor(Math.random()*Pe.length)]}else if(ma<_t){const Pe=N.slice(0,Math.min(15,N.length));Wt=Pe[Math.floor(Math.random()*Pe.length)]}else{const Pe=N.slice(0,Math.min(30,N.length));Wt=Pe[Math.floor(Math.random()*Pe.length)]}if(Wt&&!R.some(Pe=>Pe.id===Wt.id)){R.push(Wt);const Pe=N.findIndex(Df=>Df.id===Wt.id);Pe>-1&&N.splice(Pe,1)}}console.log(` Generated ${R.length} unique shuffle options`),de(R),tt(0)}if($.length>0){const S=(wt+1)%$.length,N=$[S];z(R=>new Set([...R,N.id])),tt(S),console.log(` VibeCast 2.1 shuffle result (${S+1}/${$.length}): "${N.title}"`),console.log(` Match factors: ${N.matchReason}`),u(N),v(!0),S===0&&(console.log(" All shuffle options shown, will generate new ones next time"),de([]))}}catch(S){console.error("Enhanced shuffle failed:",S);const N=c.filter(R=>R.id!==(a==null?void 0:a.id)&&!P.has(R.id));if(N.length>0){const R=await ho(N,r,s,t),te=R[Math.floor(Math.random()*Math.min(10,R.length))];u(te),v(!0),z(se=>new Set([...se,te.id])),console.log(` Fallback selection: "${te.title}"`)}else alert("No more unique episodes available. Try a new search!")}},A=()=>{v(!1)},K=S=>{var N;console.log(" Attempting to open Spotify for:",S.title);try{if(S.spotify_uri){console.log(" Using Spotify URI:",S.spotify_uri);let se="";if(S.spotify_uri.startsWith("spotify:episode:")?se=`https://open.spotify.com/episode/${S.spotify_uri.replace("spotify:episode:","")}`:S.spotify_uri.startsWith("spotify:show:")?se=`https://open.spotify.com/show/${S.spotify_uri.replace("spotify:show:","")}`:S.spotify_uri.startsWith("https://open.spotify.com/")&&(se=S.spotify_uri),se){console.log(" Opening Spotify web player:",se),window.open(se,"_blank");return}}if((N=S.platform_links)!=null&&N.spotify){console.log(" Using platform Spotify URL:",S.platform_links.spotify),window.open(S.platform_links.spotify,"_blank");return}if(S.external_url&&S.external_url.includes("spotify.com")){console.log(" Using external Spotify URL:",S.external_url),window.open(S.external_url,"_blank");return}const te=`https://open.spotify.com/search/${encodeURIComponent(`${S.podcast_name} ${S.title}`)}/episodes`;console.log(" Searching Spotify for episode:",te),window.open(te,"_blank")}catch(R){console.error("Failed to open Spotify:",R);const se=`https://open.spotify.com/search/${encodeURIComponent(S.podcast_name)}/shows`;window.open(se,"_blank")}},Z=async S=>{var N;console.log(" Attempting to open Apple Podcasts for:",S.title);try{if((N=S.platform_links)!=null&&N.apple){console.log(" Using Apple Podcasts URL:",S.platform_links.apple),window.open(S.platform_links.apple,"_blank");return}const te=`https://podcasts.apple.com/search?term=${encodeURIComponent(`${S.podcast_name} ${S.title}`)}`;console.log(" Searching Apple Podcasts for episode:",te),window.open(te,"_blank")}catch(R){console.error("Failed to open Apple Podcasts:",R);const se=`https://podcasts.apple.com/search?term=${encodeURIComponent(S.podcast_name)}`;window.open(se,"_blank")}},fr=S=>{const N=Math.floor(S/3600),R=Math.floor(S%3600/60);return N>0?`${N}h ${R}m`:`${R}m`};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-t from-[#c5e4ff] via-[#ffe1c9] via-30% via-[#ffb1cf] via-60% to-[#ded3f9]",children:[h.jsxs("div",{className:"max-w-md mx-auto min-h-screen",children:[h.jsx("div",{className:"bg-[#fdfaf7]/98 backdrop-blur-md px-6 py-6 border-b border-[#c8d1fa]/50",children:h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("div",{className:"flex items-center justify-center w-full",children:h.jsx("img",{src:"../assets/images/Vibe.png",alt:"Vibecast Logo",className:"h-48 w-auto object-contain max-w-full"})}),h.jsxs("div",{className:"flex gap-2 absolute top-6 right-6",children:[h.jsx("button",{onClick:()=>m(!0),className:"w-10 h-10 bg-gradient-to-br from-purple-100 to-pink-100 hover:from-purple-200 hover:to-pink-200 rounded-full flex items-center justify-center border border-white/50 transition-all duration-200 hover:scale-105",title:"View Your Preference Intelligence",children:h.jsx(lf,{className:"w-5 h-5 text-purple-600"})}),h.jsx("button",{onClick:es,className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-cyan-100 hover:from-blue-200 hover:to-cyan-200 rounded-full flex items-center justify-center border border-white/50 transition-all duration-200 hover:scale-105",title:"Test API Connection",children:h.jsx("span",{className:"text-sm",children:""})}),h.jsx("button",{onClick:()=>g(!0),className:"w-10 h-10 bg-gradient-to-br from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 rounded-full flex items-center justify-center border border-white/50 transition-all duration-200 hover:scale-105",title:"Manage Search Providers",children:h.jsx(af,{className:"w-5 h-5 text-gray-600"})}),h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#f2d6ec] to-[#ded3f9] rounded-full flex items-center justify-center border border-white/50",children:h.jsx(Ng,{className:"w-5 h-5 text-gray-600"})})]})]})}),h.jsx("div",{className:"p-6 space-y-6",children:f?a&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-br from-[#fdfaf7]/95 via-[#fff5f0]/90 to-[#ffe4e1]/85 backdrop-blur-sm rounded-3xl p-6 border border-[#ff7f7f]/30 shadow-lg",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.cover_art&&h.jsx("img",{src:a.cover_art,alt:a.title||"Episode cover",className:"w-24 h-24 rounded-2xl object-cover shadow-md border-2 border-[#ff9999]/40"}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("h3",{className:"font-bold text-xl text-gray-800 mb-2 leading-tight",children:[a.title||"Untitled Episode",a.is_top_quality&&h.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs font-bold rounded-full shadow-sm",children:[h.jsx("span",{className:"text-xs",children:""}),"TOP CHARTS"]})]}),h.jsx("p",{className:"text-[#ff6b6b] font-semibold text-sm mb-1",children:a.podcast_name||"Unknown Podcast"}),h.jsx("p",{className:"text-gray-500 text-sm font-medium",children:fr(a.audio_length_sec||0)})]})]}),h.jsx(ay,{description:a.description||"No description available"}),h.jsxs("div",{className:"bg-gradient-to-r from-[#ffcccb]/70 via-[#ffd7d7]/60 to-[#ffe4e1]/70 rounded-2xl p-4 mb-4 border border-[#ff9999]/50 backdrop-blur-sm",children:[h.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[h.jsx("span",{className:"w-4 h-4 text-[#ff6b6b]",children:""}),"Your Search Criteria:"]}),h.jsxs("div",{className:"space-y-3",children:[r.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Mood:"}),r.map(S=>{const N=qu.find(R=>R.value===S);return h.jsx("span",{className:"text-xs px-3 py-1 rounded-full font-medium bg-[#fff5f0]/90 border border-[#ffb3b3] text-[#ff4757]",children:(N==null?void 0:N.label)||S},S)})]}),s.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Themes:"}),s.map(S=>{const N=Ku.find(R=>R.value===S);return h.jsx("span",{className:"text-xs px-3 py-1 rounded-full font-medium bg-[#fff0f0]/90 border border-[#ffa8a8] text-[#ff6b6b]",children:(N==null?void 0:N.label)||S},S)})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Duration:"}),h.jsxs("span",{className:"text-xs px-3 py-1 rounded-full bg-[#ffe8e8]/90 border border-[#ff9d9d] text-[#ff5252] font-medium",children:[t," minutes"]})]})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Choose where to listen:"}),h.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[h.jsxs("button",{onClick:()=>K(a),className:"flex items-center justify-center gap-3 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-full font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 transform hover:scale-[1.02] shadow-lg",children:[h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.84-.179-.84-.66 0-.42.179-.78.54-.84 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.242 1.081zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z"})}),h.jsx("span",{children:"Listen on Spotify"})]}),h.jsxs("button",{onClick:()=>Z(a),className:"flex items-center justify-center gap-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white py-3 px-4 rounded-full font-semibold hover:from-purple-600 hover:to-purple-700 transition-all duration-200 transform hover:scale-[1.02] shadow-lg",children:[h.jsx(uy,{size:20}),h.jsx("span",{children:"Listen on Apple Podcasts"})]})]})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("button",{onClick:O,className:"flex-1 flex items-center justify-center gap-2 bg-gradient-to-r from-[#ff6b6b] to-[#ff8e8e] text-white py-4 px-6 rounded-full font-semibold hover:from-[#ff5252] hover:to-[#ff7575] transition-all duration-200 transform hover:scale-[1.02] shadow-lg",children:[h.jsx(jg,{size:20}),h.jsx("span",{children:$.length>0?`Shuffle (${wt+1}/${$.length})`:"Shuffle"})]}),h.jsx("button",{onClick:()=>{y(!1),v(!1),n([]),i([]),z(new Set),de([]),tt(0)},className:"flex-1 bg-[#fdfaf7]/90 backdrop-blur-sm text-gray-700 py-4 px-6 rounded-full font-semibold hover:bg-[#fdfaf7] transition-all duration-200 transform hover:scale-[1.02] border border-[#c8d1fa]",children:"New Search"})]}),_&&a&&h.jsx(iy,{episode:a,userMoods:r,userThemes:s,onRatingSubmitted:A})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"How are you feeling?"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Select up to 2 moods that describe you right now"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-[#ffb1cf] from-10% via-[#fffacd] via-65% to-[#c5e4ff] rounded-3xl p-5 border border-[#ffb1cf]/70 backdrop-blur-sm shadow-lg",children:[h.jsx("div",{className:"grid grid-cols-2 gap-3",children:qu.map(S=>h.jsx("button",{onClick:()=>Ri(S.value),disabled:!r.includes(S.value)&&r.length>=2,className:`
                          p-3 rounded-2xl border-2 transition-all duration-300 text-sm font-semibold backdrop-blur-sm
                        ${r.includes(S.value)?"border-[#ffb1cf] bg-[#ffb1cf]/30 shadow-lg transform scale-105 ring-4 ring-[#f2d6ec]/40":r.length>=2?"border-[#c8d1fa] text-gray-400 cursor-not-allowed bg-[#fdfaf7]/50":"border-[#c8d1fa] text-gray-700 hover:border-[#ffb1cf] hover:bg-[#f2d6ec]/30 transform hover:scale-[1.02] hover:shadow-md bg-[#fdfaf7]/80"}
                      `,children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx(Wu,{type:S.iconType}),h.jsx("span",{children:S.label})]})},S.value))}),r.length>=2&&h.jsx("p",{className:"text-xs text-[#fa9baf] text-center font-medium mt-3",children:"Maximum 2 moods selected"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"I want to..."}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Choose what you're hoping to get from this podcast"})]}),h.jsx("div",{className:"bg-gradient-to-br from-[#ded3f9] from-25% via-[#ffb1cf] via-45% to-[#c5e4ff] rounded-3xl p-5 border border-[#ffb1cf]/70 backdrop-blur-sm shadow-lg",children:h.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ku.map(S=>h.jsx("button",{onClick:()=>Xr(S.value),className:`
                          p-3 rounded-2xl border-2 transition-all duration-300 text-sm font-semibold backdrop-blur-sm
                        ${s.includes(S.value)?"border-[#ffb1cf] bg-[#ffb1cf]/30 shadow-lg transform scale-105 ring-4 ring-[#ded3f9]/40":"border-[#c8d1fa] text-gray-700 hover:border-[#ffb1cf] hover:bg-[#ded3f9]/30 transform hover:scale-[1.02] hover:shadow-md bg-[#fdfaf7]/80"}
                      `,children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx(Wu,{type:S.iconType}),h.jsx("span",{children:S.label})]})},S.value))})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Available time"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"How long do you want to listen?"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-[#ffb1cf] from-10% via-[#fffacd] via-65% to-[#c5e4ff] rounded-3xl p-3 border border-[#ffb1cf]/70 backdrop-blur-sm shadow-lg",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"range",min:"5",max:"180",value:t,onChange:S=>e(Number(S.target.value)),className:"w-full h-3 bg-[#fdfaf7]/70 rounded-full appearance-none cursor-pointer slider relative z-10 opacity-0"}),h.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-[#fdfaf7]/70 rounded-full pointer-events-none"}),h.jsx("div",{className:"absolute top-0 left-0 h-3 bg-gradient-to-r from-[#ffb1cf] to-[#fa9baf] rounded-full pointer-events-none",style:{width:`${(t-5)/175*100}%`}}),h.jsx("div",{className:"absolute top-[-3px] w-5 h-5 bg-gradient-to-br from-[#ffb1cf] to-[#fa9baf] rounded-full pointer-events-none shadow-lg border-2 border-white",style:{left:`calc(${(t-5)/175*100}% - 10px)`}})]}),h.jsxs("div",{className:"flex justify-between items-center mt-2 font-medium",children:[h.jsx("span",{className:"text-xs text-gray-600",children:"5 min"}),h.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[t," min"]}),h.jsx("span",{className:"text-xs text-gray-600",children:"180 min"})]})]})]}),h.jsxs("button",{onClick:j,disabled:o||r.length===0&&s.length===0,className:"w-full bg-gradient-to-r from-purple-500 via-purple-400 to-pink-400 py-6 px-8 rounded-full font-bold text-xl hover:from-purple-600 hover:via-purple-500 hover:to-pink-500 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.05] shadow-2xl hover:shadow-3xl border-2 border-white/30 relative overflow-hidden group",children:[h.jsx("div",{className:"absolute inset-0 -left-2 -right-2 bg-gradient-to-b from-transparent via-white/40 via-40% via-white/20 via-60% to-transparent h-12 -skew-y-8 animate-shine pointer-events-none"}),o?h.jsxs("div",{className:"flex items-center justify-center gap-3 relative z-10",children:[h.jsx("div",{className:"w-7 h-7 border-3 border-[#000000] border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"text-lg font-bold",style:{color:"#000000",textShadow:"0 1px 2px rgba(255,255,255,0.8)"},children:"Finding your perfect match..."})]}):h.jsxs("div",{className:"flex items-center justify-center gap-2 relative z-10",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"font-bold",style:{color:"#000000",textShadow:"0 1px 2px rgba(255,255,255,0.8)"},children:"Find My Podcast"})]})]})]})}),h.jsxs("div",{className:"text-center p-6 border-t border-[#c8d1fa]/50 bg-[#fdfaf7]/80 backdrop-blur-sm",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Discover podcasts powered by Spotify"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Listen on your favorite platform"})]})]}),b&&h.jsx(ly,{isVisible:b,onClose:()=>m(!1)}),p&&h.jsx(oy,{isVisible:p,onClose:()=>g(!1)})]})}function dy(){return h.jsx(cy,{})}po.createRoot(document.getElementById("root")).render(h.jsx(ih.StrictMode,{children:h.jsx(dy,{})}));
